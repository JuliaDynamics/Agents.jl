<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Interactive application · Agents.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="https://fonts.googleapis.com/css?family=Montserrat|Source+Code+Pro&amp;display=swap" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="Agents.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">Agents.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../examples/schelling/">Schelling&#39;s segregation model</a></li><li><a class="tocitem" href="../examples/sir/">SIR model for the spread of COVID-19</a></li><li><a class="tocitem" href="../examples/social_distancing/">Continuous space social distancing for COVID-19</a></li><li><a class="tocitem" href="../examples/wealth_distribution/">Wealth distribution</a></li><li><a class="tocitem" href="../examples/forest_fire/">Forest fire</a></li><li><a class="tocitem" href="../examples/game_of_life_2D_CA/">Conway&#39;s game of life</a></li><li><a class="tocitem" href="../examples/wright-fisher/">Wright-Fisher model of evolution</a></li><li><a class="tocitem" href="../examples/HK/">Hegselmann-Krause opinion dynamics</a></li><li><a class="tocitem" href="../examples/flock/">Flocking</a></li><li><a class="tocitem" href="../examples/daisyworld/">Daisyworld</a></li><li><a class="tocitem" href="../examples/predator_prey/">Predator-Prey</a></li><li><a class="tocitem" href="../examples/growing_bacteria/">Bacteria Growth</a></li></ul></li><li><a class="tocitem" href="../models/">Predefined Models</a></li><li><a class="tocitem" href="../api/">API</a></li><li class="is-active"><a class="tocitem" href>Interactive application</a></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox"/><label class="tocitem" for="menuitem-7"><span class="docs-label">Ecosystem Integration</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../examples/diffeq/">DifferentialEquations.jl</a></li></ul></li><li><a class="tocitem" href="../mesa/">Comparison against Mesa (Python)</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Interactive application</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Interactive application</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaDynamics/Agents.jl/blob/master/docs/src/interact.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Interactive-application"><a class="docs-heading-anchor" href="#Interactive-application">Interactive application</a><a id="Interactive-application-1"></a><a class="docs-heading-anchor-permalink" href="#Interactive-application" title="Permalink"></a></h1><p>The interactive application of Agents.jl is <em>model-agnostic</em>. This means that provided that the space of the model is one of the supported types (currently only 2D <code>GridSpace</code> or <code>ContinuousSpace</code>), the application does not care about the model dynamics or agent properties.</p><p>The app is based on <a href="https://juliadynamics.github.io/InteractiveChaos.jl/dev/"><code>InteractiveChaos</code></a>, another package of JuliaDynamics.</p><p>Here is an example application</p><video width="100%" height="auto" controls autoplay loop>
<source src="https://raw.githubusercontent.com/JuliaDynamics/JuliaDynamics/master/videos/interact/agents.mp4?raw=true" type="video/mp4">
</video><p>the application is made with the following function:</p><article class="docstring"><header><a class="docstring-binding" id="InteractiveChaos.interactive_abm" href="#InteractiveChaos.interactive_abm"><code>InteractiveChaos.interactive_abm</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">interactive_abm(model::ABM, agent_step!, model_step!, params=Dict(); kwargs...)</code></pre><p>Open an interactive application for exploring an Agent-Based-Model. Requires <code>Agents</code>.</p><p>The application evolves an ABM interactively and plots its evolution, while allowing changing any of the model parameters interactively and also showing the evolution of collected data over time (if any are asked for, see below).</p><p><code>model, agent_step!, model_step!</code> are the same arguments that <code>step!</code> or <code>run!</code> from <code>Agents</code> accept.</p><p>Calling <code>interactive_abm</code> returns: <code>scene, agent_df, model_df</code>. So you can save the scene, but you can also access the collected data (if any).</p><p><strong>Interaction</strong></p><p>Buttons and sliders on the right-hand-side allow running/pausing the application. The slider <code>sleep</code> controls how much sleep time should occur after each plot update. The slider <code>spu</code> is the steps-per-update, i.e. how many times to step the model before updating the plot.</p><p>The final argument <code>params</code> is a dictionary and decides which parameters of the model will be configurable from the interactive application. Each entry of <code>params</code> is a pair of <code>Symbol</code> to an <code>AbstractVector</code>, and provides a range of possible values for the parameter named after the given symbol. Changing a value in the parameter slides is only updated into the actual model when pressing the &quot;update&quot; button.</p><p>The &quot;reset&quot; button resets the model to its original agent and space state but it updates it to the currently selected parameter values. A red vertical line is displayed in the data plots when resetting, for visual guidance.</p><p><strong>Keywords</strong></p><ul><li><code>ac, as, am</code>: either constants, or functions each accepting an agent and outputting a valid value for the agent color, shape, or size.</li><li><code>scheduler = model.scheduler</code>: decides the plotting order of agents (which matters only if there is overlap).</li><li><code>offset = nothing</code>: Can be a function accepting an agent and returning an offset position that adjusts the agent&#39;s position when plotted (which matters only if there is overlap).</li><li><code>adata, mdata</code>: Same as the keyword arguments of <code>Agents.run!</code>, and decide which data of the model/agents will be collected and plotted below the interactive plot. Notice that data collection can only occur on plotted steps (and thus steps not plotted due to <code>spu</code> are also not data-collected).</li><li><code>alabels, mlabels</code>: If data are collected from agents or the model with <code>adata, mdata</code>, the corresponding plots have a y-label named after the collected data. Instead, you can give <code>alabels, mlabels</code> (vectors of strings with exactly same length as <code>adata, mdata</code>), and these labels will be used instead.</li><li><code>when = true</code>: When to perform data collection, as in <code>Agents.run!</code>.</li><li><code>equalaspect = true</code>: Set the ABM scatterplot&#39;s aspect ratio to equal.</li><li><code>spu = 1:100</code>: Values that the &quot;spu&quot; slider will obtain.</li></ul></div></section></article><p>The animation at the start of this page was done with:</p><pre><code class="language-julia">using Agents, Random
using Makie
using InteractiveChaos

model, agent_step!, model_step! = Models.forest_fire()

alive(model) = count(a.status for a in allagents(model))
burning(model) = count(!a.status for a in allagents(model))
mdata = [alive, burning, nagents]
mlabels = [&quot;alive&quot;, &quot;burning&quot;, &quot;total&quot;]

params = Dict(
    :f =&gt; 0.02:0.01:1.0,
    :p =&gt; 0.01:0.01:1.0,
)

ac(a) = a.status ? &quot;#1f851a&quot; : &quot;#67091b&quot;
am = :rect

p1 = interactive_abm(model, agent_step!, model_step!, params;
ac = ac, as = 1, am = am, mdata = mdata, mlabels=mlabels)</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../api/">« API</a><a class="docs-footer-nextpage" href="../examples/diffeq/">DifferentialEquations.jl »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 27 July 2020 17:36">Monday 27 July 2020</span>. Using Julia version 1.4.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
