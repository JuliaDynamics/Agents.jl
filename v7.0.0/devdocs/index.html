<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Developer Docs · Agents.jl</title><meta name="title" content="Developer Docs · Agents.jl"/><meta property="og:title" content="Developer Docs · Agents.jl"/><meta property="twitter:title" content="Developer Docs · Agents.jl"/><meta name="description" content="Documentation for Agents.jl."/><meta property="og:description" content="Documentation for Agents.jl."/><meta property="twitter:description" content="Documentation for Agents.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="https://fonts.googleapis.com/css?family=Montserrat|Source+Code+Pro&amp;display=swap" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="Agents.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">Agents.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../examples/sir/">SIR model for the spread of COVID-19</a></li><li><a class="tocitem" href="../examples/flock/">Flocking model</a></li><li><a class="tocitem" href="../examples/zombies/">Zombie Outbreak in an Open Street Map City</a></li><li><a class="tocitem" href="../examples/predator_prey/">Predator-prey dynamics</a></li><li><a class="tocitem" href="../examples/rabbit_fox_hawk/">3D Mixed-Agent Ecosystem with Pathfinding</a></li><li><a class="tocitem" href="../examples/event_rock_paper_scissors/">Spatial rock-paper-scissors (event based)</a></li><li><a class="tocitem" href="../examples/rl_boltzmann/">Boltzmann Wealth Model with Reinforcement Learning</a></li><li><a class="tocitem" href="../examples/">More Examples for Agents.jl</a></li></ul></li><li><a class="tocitem" href="../api/">API</a></li><li><a class="tocitem" href="../examples/agents_visualizations/">Plotting and Interactivity</a></li><li><span class="tocitem">Ecosystem Integration</span><ul><li><a class="tocitem" href="../examples/optim/">BlackBoxOptim.jl</a></li><li><a class="tocitem" href="../examples/diffeq/">DifferentialEquations.jl</a></li><li><a class="tocitem" href="../examples/schoolyard/">Graphs.jl</a></li><li><a class="tocitem" href="../examples/celllistmap/">CellListMap.jl</a></li><li><a class="tocitem" href="../examples/delaunay/">DelaunayTriangulation.jl</a></li><li><a class="tocitem" href="../examples/measurements/">Uncertanty Propagation</a></li></ul></li><li><a class="tocitem" href="../performance_tips/">Performance Tips</a></li><li><a class="tocitem" href="../comparison/">ABM Framework Comparison</a></li><li class="is-active"><a class="tocitem" href>Developer Docs</a><ul class="internal"><li><a class="tocitem" href="#Internal-infrastructure-overview"><span>Internal infrastructure overview</span></a></li><li><a class="tocitem" href="#Cloning-the-repository-and-formatting"><span>Cloning the repository and formatting</span></a></li><li><a class="tocitem" href="#make_new_model"><span>Creating a new model type</span></a></li><li><a class="tocitem" href="#make_new_space"><span>Creating a new space type</span></a></li><li><a class="tocitem" href="#Visualization-of-a-custom-space"><span>Visualization of a custom space</span></a></li><li><a class="tocitem" href="#Designing-a-new-Pathfinder-Cost-Metric"><span>Designing a new Pathfinder Cost Metric</span></a></li><li><a class="tocitem" href="#Implementing-custom-serialization"><span>Implementing custom serialization</span></a></li><li><a class="tocitem" href="#OpenStreetMapSpace-internals"><span>OpenStreetMapSpace internals</span></a></li><li><a class="tocitem" href="#Benchmarking"><span>Benchmarking</span></a></li><li><a class="tocitem" href="#Creating-a-new-AgentBasedModel-implementation"><span>Creating a new <code>AgentBasedModel</code> implementation</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Developer Docs</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Developer Docs</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaDynamics/Agents.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaDynamics/Agents.jl/blob/main/docs/src/devdocs.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Developer-Docs"><a class="docs-heading-anchor" href="#Developer-Docs">Developer Docs</a><a id="Developer-Docs-1"></a><a class="docs-heading-anchor-permalink" href="#Developer-Docs" title="Permalink"></a></h1><h2 id="Internal-infrastructure-overview"><a class="docs-heading-anchor" href="#Internal-infrastructure-overview">Internal infrastructure overview</a><a id="Internal-infrastructure-overview-1"></a><a class="docs-heading-anchor-permalink" href="#Internal-infrastructure-overview" title="Permalink"></a></h2><p>When it comes to development of new code, the overwhelming majority of Agents.jl is composed of three parts:</p><ol><li>The model time-stepping dynamics and agent storage and retrieval logic</li><li>The space agent storage, movement, and neighborhood searching logic</li><li>The rest of the API which is largely agnostic to the above two</li></ol><p>Arguably the most important aspect of the Agents.jl design is that the above three pillars of the infrastructure are <strong>orthogonal</strong>. That is, if someone wanted to add a new space, they would <strong>not</strong> have to care about neither the model stepping dynamics, nor the majority of the remaining Agents.jl API, such as sampling, data collection, etc. etc.</p><h2 id="Cloning-the-repository-and-formatting"><a class="docs-heading-anchor" href="#Cloning-the-repository-and-formatting">Cloning the repository and formatting</a><a id="Cloning-the-repository-and-formatting-1"></a><a class="docs-heading-anchor-permalink" href="#Cloning-the-repository-and-formatting" title="Permalink"></a></h2><p>Since we include documentation with many animated gifs and videos in the repository, a standard clone can be larger than expected. If you wish to do any development work, it is better to use</p><pre><code class="language-bash hljs">git clone https://github.com/JuliaDynamics/Agents.jl.git --single-branch</code></pre><p>Agents.jl uses the Runic.jl formatter. Make sure your contributions apply it! To apply the formatter use</p><pre><code class="language-bash hljs">shell&gt; julia --project=@runic --startup-file=no -e &#39;using Pkg; Pkg.add(&quot;Runic&quot;)&#39;
shell&gt; julia --project=@runic --startup-file=no -e &#39;using Runic; exit(Runic.main(ARGS))&#39; -- --inplace path/to/developed/Agents</code></pre><h2 id="make_new_model"><a class="docs-heading-anchor" href="#make_new_model">Creating a new model type</a><a id="make_new_model-1"></a><a class="docs-heading-anchor-permalink" href="#make_new_model" title="Permalink"></a></h2><p>Note that new model types target applications where a fundamentally different way to define the &quot;time evolution&quot; or &quot;dynamic rule&quot; is required. If any of the existing <a href="../api/#Agents.AgentBasedModel"><code>AgentBasedModel</code></a> subtypes satisfy the type of time stepping, then you don&#39;t have to create a new type of model.</p><p>Creating a new model type within Agents.jl is simple. Although it requires extending a bit more than a dozen functions, the majority of them are 1-liner &quot;accessor&quot; functions (that return e.g., the rng, or the space instance).</p><p>The most important mandatory method is to extend <code>step!</code> for your new type. You can see the existing implementations of <code>step!</code> for e.g., <a href="../api/#Agents.StandardABM"><code>StandardABM</code></a> or <a href="../api/#Agents.EventQueueABM"><code>EventQueueABM</code></a> to get an idea.</p><p>All other mandatory method extensions for e.g., accessor functions are in the file <a href="https://github.com/JuliaDynamics/Agents.jl/blob/main/src/core/model_abstract.jl"><code>src/core/model_abstract.jl</code></a>. As you will notice, the overwhelming majority of required methods have a default implementation that e.g., attempts to return a field named <code>:rng</code>. The rest of the methods by default return a &quot;not implemented&quot; error message (and those you also need to extend mandatorily).</p><h2 id="make_new_space"><a class="docs-heading-anchor" href="#make_new_space">Creating a new space type</a><a id="make_new_space-1"></a><a class="docs-heading-anchor-permalink" href="#make_new_space" title="Permalink"></a></h2><p>Creating a new space type within Agents.jl is quite simple and requires the extension of only 5 methods to support the entire Agents.jl API. Here are the steps to follow to create a new space:</p><ol><li>Think about what the agent position type should be.</li><li>Think about how the space type will keep track of the agent positions, so that it is possible to implement the function <a href="../api/#Agents.nearby_ids"><code>nearby_ids</code></a>.</li><li>Create the <code>struct</code> that represents your new space, while making it a subtype of <code>Agents.AbstractSpace</code>. Let now <code>const ABMS = ABM{&lt;:YourSpaceType}</code>.</li><li>Extend <code>random_position(model::ABMS)</code>.</li><li>Extend <code>add_agent_to_space!(agent, model::ABMS), remove_agent_from_space!(agent, model::ABMS)</code>. This already provides access to <code>add_agent!, kill_agent!</code> and <code>move_agent!</code>.</li><li>Extend <code>nearby_ids(pos, model::ABMS, r; kw...)</code>.</li><li>Create a new &quot;minimal&quot; agent type to be used with <a href="../api/#Agents.@agent"><code>@agent</code></a> (see the source code of e.g., <a href="../api/#Agents.GraphAgent"><code>GraphAgent</code></a> for an example).</li></ol><p>And that&#39;s it! Every function of the main API will now work. In some situations you might want to explicitly extend other functions such as <code>move_agent!</code> or <code>remove_all_from_space!</code> for performance reasons, but they will work out of the box with a generic implementation.</p><h2 id="Visualization-of-a-custom-space"><a class="docs-heading-anchor" href="#Visualization-of-a-custom-space">Visualization of a custom space</a><a id="Visualization-of-a-custom-space-1"></a><a class="docs-heading-anchor-permalink" href="#Visualization-of-a-custom-space" title="Permalink"></a></h2><p>Visualization of a new space type within Agents.jl works in a similar fashion to creating a new space type. One your space works with the general Agents.jl API, you only need to extend a few functions for it to work automatically with the existing plotting and animation infrastructure.</p><h3 id="Mandatory-methods"><a class="docs-heading-anchor" href="#Mandatory-methods">Mandatory methods</a><a id="Mandatory-methods-1"></a><a class="docs-heading-anchor-permalink" href="#Mandatory-methods" title="Permalink"></a></h3><p>You must extend the following function</p><article><details class="docstring" open="true"><summary id="Agents.space_axis_limits"><a class="docstring-binding" href="#Agents.space_axis_limits"><code>Agents.space_axis_limits</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">space_axis_limits(model::ABM{S}) where {S&lt;:AbstractSpace}</code></pre><p>Return appropriate axis limits for given model. They have to be a 2- or 3- tuple as expected by Makie when setting axis limits. The <code>length</code> of the output of this function also decides whether a 2D or 3D axis is used.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/Agents.jl/blob/24915560b1e751d2f5317c491fdf8e43bd78bac9/src/visualizations.jl#L235-L241">source</a></section></details></article><h3 id="Optional-alternative-agent-plotting"><a class="docs-heading-anchor" href="#Optional-alternative-agent-plotting">Optional alternative agent plotting</a><a id="Optional-alternative-agent-plotting-1"></a><a class="docs-heading-anchor-permalink" href="#Optional-alternative-agent-plotting" title="Permalink"></a></h3><p>If your space does not visualize agents in the default way of one agent = one scattered marker, then you want to extend the function <code>agentsplot!</code>. For example, <code>GraphSpace</code> aggregates multiple agents into a graph plot and is extending <code>agentsplot!</code>.</p><article><details class="docstring" open="true"><summary id="Agents.agentsplot!"><a class="docstring-binding" href="#Agents.agentsplot!"><code>Agents.agentsplot!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">agentsplot!(ax, model, agent_color, agent_size, agent_marker, offset, agentsplotkwargs)</code></pre><p>Plot agents into <code>ax</code>, given model and <code>agent_color, agent_size, agent_marker, offset, agentsplotkwargs</code> which are obtained from the keywords given to <a href="../api/#Agents.abmplot"><code>abmplot</code></a>. The <code>model</code> is the model <em>observable</em> contained in <a href="../api/#Agents.ABMObservable"><code>ABMObservable</code></a>.</p><p><strong>Extending</strong></p><p>By default this function does a <code>scatter</code>-plot and ignores <code>model</code>. Otherwise, it should be extended to dispatch on model space type. TO do this, use the signature:</p><pre><code class="language-julia hljs">agentsplot!(ax, model::T, args...) where {T &lt;: Observable{A} where {A &lt;: ABM{&lt;:YouSpaceType}}}</code></pre><p>See the source code of the default implementation of <code>agentsplot!</code> for lifting e.g., the <code>agent_color</code> argument into the model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/Agents.jl/blob/24915560b1e751d2f5317c491fdf8e43bd78bac9/src/visualizations.jl#L244-L264">source</a></section></details></article><h3 id="Optional-pre-plotting"><a class="docs-heading-anchor" href="#Optional-pre-plotting">Optional pre-plotting</a><a id="Optional-pre-plotting-1"></a><a class="docs-heading-anchor-permalink" href="#Optional-pre-plotting" title="Permalink"></a></h3><p>Some spaces, like the <code>OSMSpace</code>, need to plot some elements before the agents can be plotted and animated. If that&#39;s the case, extend the following:</p><article><details class="docstring" open="true"><summary id="Agents.spaceplot!"><a class="docstring-binding" href="#Agents.spaceplot!"><code>Agents.spaceplot!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">spaceplot!(ax, space::AbstractSpace; spaceplotkwargs...)</code></pre><p>Add a space-dependent plot to <code>ax</code>. <code>spaceplotkwargs</code> is propagated from <a href="../api/#Agents.abmplot"><code>abmplot</code></a>. By default this function does nothing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/Agents.jl/blob/24915560b1e751d2f5317c491fdf8e43bd78bac9/src/visualizations.jl#L275-L280">source</a></section></details></article><h3 id="Heatmap-handling"><a class="docs-heading-anchor" href="#Heatmap-handling">Heatmap handling</a><a id="Heatmap-handling-1"></a><a class="docs-heading-anchor-permalink" href="#Heatmap-handling" title="Permalink"></a></h3><p>Heatmaps are extracted and plotted automatically, but your space may require some special handling for that. For example <code>ContinuousSpace</code> needs to map the finite heatmap matrix over the continuous space. If you require such handling, extend:</p><article><details class="docstring" open="true"><summary id="Agents.abmheatmap!"><a class="docstring-binding" href="#Agents.abmheatmap!"><code>Agents.abmheatmap!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">abmheatmap!(ax, abmobs::ABMObservable, space, heatobs, add_colorbar, heatkwargs)</code></pre><p>Plot as a heatmap the provided <code>heatobs</code> (an observable matrix created from <code>heatarray</code>). Return the heatmap (or otherwise) plot object so that a Colorbar can be assigned to it.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/Agents.jl/blob/24915560b1e751d2f5317c491fdf8e43bd78bac9/src/visualizations.jl#L267-L272">source</a></section></details></article><h2 id="Designing-a-new-Pathfinder-Cost-Metric"><a class="docs-heading-anchor" href="#Designing-a-new-Pathfinder-Cost-Metric">Designing a new Pathfinder Cost Metric</a><a id="Designing-a-new-Pathfinder-Cost-Metric-1"></a><a class="docs-heading-anchor-permalink" href="#Designing-a-new-Pathfinder-Cost-Metric" title="Permalink"></a></h2><p>To define a new cost metric, simply make a struct that subtypes <code>CostMetric</code> and provide a <code>delta_cost</code> function for it. These methods work solely for A* at present, but will be available for other pathfinder algorithms in the future.</p><article><details class="docstring" open="true"><summary id="Agents.Pathfinding.CostMetric"><a class="docstring-binding" href="#Agents.Pathfinding.CostMetric"><code>Agents.Pathfinding.CostMetric</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Pathfinding.CostMetric{D}</code></pre><p>An abstract type representing a metric that measures the approximate cost of travelling between two points in a <code>D</code> dimensional grid.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/Agents.jl/blob/24915560b1e751d2f5317c491fdf8e43bd78bac9/src/submodules/pathfinding/metrics.jl#L1-L5">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Agents.Pathfinding.delta_cost"><a class="docstring-binding" href="#Agents.Pathfinding.delta_cost"><code>Agents.Pathfinding.delta_cost</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">Pathfinding.delta_cost(pathfinder::GridPathfinder{D}, metric::M, from, to) where {M&lt;:CostMetric}</code></pre><p>Calculate an approximation for the cost of travelling from <code>from</code> to <code>to</code> (both of type <code>NTuple{N,Int}</code>. Expects a return value of <code>Float64</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/Agents.jl/blob/24915560b1e751d2f5317c491fdf8e43bd78bac9/src/submodules/pathfinding/pathfinding_utils.jl#L18-L22">source</a></section></details></article><h2 id="Implementing-custom-serialization"><a class="docs-heading-anchor" href="#Implementing-custom-serialization">Implementing custom serialization</a><a id="Implementing-custom-serialization-1"></a><a class="docs-heading-anchor-permalink" href="#Implementing-custom-serialization" title="Permalink"></a></h2><h3 id="For-model-properties"><a class="docs-heading-anchor" href="#For-model-properties">For model properties</a><a id="For-model-properties-1"></a><a class="docs-heading-anchor-permalink" href="#For-model-properties" title="Permalink"></a></h3><p>Custom serialization may be required if your properties contain non-serializable data, such as functions. Alternatively, if it is possible to recalculate some properties during deserialization it may be space-efficient to not save them. To implement custom serialization, define methods for the <code>to_serializable</code> and <code>from_serializable</code> functions:</p><article><details class="docstring" open="true"><summary id="Agents.AgentsIO.to_serializable"><a class="docstring-binding" href="#Agents.AgentsIO.to_serializable"><code>Agents.AgentsIO.to_serializable</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">AgentsIO.to_serializable(t)</code></pre><p>Return the serializable form of the passed value. This defaults to the value itself, unless a more specific method is defined. Define a method for this function and for <a href="#Agents.AgentsIO.from_serializable"><code>AgentsIO.from_serializable</code></a> if you need custom serialization for model properties. This also enables passing keyword arguments to <a href="../api/#Agents.AgentsIO.load_checkpoint"><code>AgentsIO.load_checkpoint</code></a> and having access to them during deserialization of the properties. Some possible scenarios where this may be required are:</p><ul><li>Your properties contain functions (or any type not supported by JLD2.jl). These may not be (de)serialized correctly. This could result in checkpoint files that cannot be loaded back in, or contain reconstructed types that do not retain their data/functionality.</li><li>Your properties contain data that can be recalculated during deserialization. Omitting such properties can reduce the size of the checkpoint file, at the expense of some extra computation at deserialization.</li></ul><p>If your model properties do not fall in the above scenarios, you do not need to use this function.</p><p>This function, and <a href="#Agents.AgentsIO.from_serializable"><code>AgentsIO.from_serializable</code></a> is not called recursively on every type/value during serialization. The final serialization functionality is enabled by JLD2.jl. To define custom serialization for every occurrence of a specific type (such as agent structs), refer to the Custom Serialization section of JLD2.jl documentation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/Agents.jl/blob/24915560b1e751d2f5317c491fdf8e43bd78bac9/src/submodules/io/jld2_integration.jl#L4-L29">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Agents.AgentsIO.from_serializable"><a class="docstring-binding" href="#Agents.AgentsIO.from_serializable"><code>Agents.AgentsIO.from_serializable</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">AgentsIO.from_serializable(t; kwargs...)</code></pre><p>Given a value in its serializable form, return the original version. This defaults to the value itself, unless a more specific method is defined. Define a method for this function and for <a href="#Agents.AgentsIO.to_serializable"><code>AgentsIO.to_serializable</code></a> if you need custom serialization for model properties. This also enables passing keyword arguments to <a href="../api/#Agents.AgentsIO.load_checkpoint"><code>AgentsIO.load_checkpoint</code></a> and having access to them through <code>kwargs</code>.</p><p>Refer to <a href="#Agents.AgentsIO.to_serializable"><code>AgentsIO.to_serializable</code></a> for more info.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/Agents.jl/blob/24915560b1e751d2f5317c491fdf8e43bd78bac9/src/submodules/io/jld2_integration.jl#L32-L42">source</a></section></details></article><h3 id="For-agent-structs"><a class="docs-heading-anchor" href="#For-agent-structs">For agent structs</a><a id="For-agent-structs-1"></a><a class="docs-heading-anchor-permalink" href="#For-agent-structs" title="Permalink"></a></h3><p>Similarly to model properties, you may need to implement custom serialization for agent structs. <code>from_serializable</code> and <code>to_serializable</code> are not called during (de)serialization of agent structs. Instead, <a href="https://juliaio.github.io/JLD2.jl/stable/customserialization/">JLD2&#39;s custom serialization functionality</a> should be used. All instances of the agent struct will be converted to and from the specified type during serialization. For OpenStreetMap agents, the position, destination and route are saved separately. These values will be loaded back in during deserialization of the model and override any values in the agent structs. To save space, the agents in the serialized model will have empty <code>route</code> fields.</p><h2 id="OpenStreetMapSpace-internals"><a class="docs-heading-anchor" href="#OpenStreetMapSpace-internals">OpenStreetMapSpace internals</a><a id="OpenStreetMapSpace-internals-1"></a><a class="docs-heading-anchor-permalink" href="#OpenStreetMapSpace-internals" title="Permalink"></a></h2><p>Details about the internal details of the OSMSpace are discussed in the docstring of <code>OSM.OpenStreetMapPath</code>.</p><h2 id="Benchmarking"><a class="docs-heading-anchor" href="#Benchmarking">Benchmarking</a><a id="Benchmarking-1"></a><a class="docs-heading-anchor-permalink" href="#Benchmarking" title="Permalink"></a></h2><p>As Agents.jl is developed we want to monitor code efficiency through <em>benchmarks</em>. A benchmark is a function or other bit of code whose execution is timed so that developers and users can keep track of how long different API functions take when used in various ways. Individual benchmarks can be organized into <em>suites</em> of benchmark tests. See the <a href="https://github.com/JuliaDynamics/Agents.jl/tree/main/benchmark"><code>benchmark</code></a> directory to view Agents.jl&#39;s benchmark suites. Follow these examples to add your own benchmarks for your Agents.jl contributions. See the BenchmarkTools <a href="https://github.com/JuliaCI/BenchmarkTools.jl#quick-start">quickstart guide</a>, <a href="https://github.com/JuliaCI/BenchmarkTools.jl/blob/master/benchmark/benchmarks.jl">toy example benchmark suite</a>, and the <a href="https://juliaci.github.io/BenchmarkTools.jl/dev/manual/#Benchmarking-basics">BenchmarkTools.jl manual</a> for more information on how to write your own benchmarks.</p><h2 id="Creating-a-new-AgentBasedModel-implementation"><a class="docs-heading-anchor" href="#Creating-a-new-AgentBasedModel-implementation">Creating a new <code>AgentBasedModel</code> implementation</a><a id="Creating-a-new-AgentBasedModel-implementation-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-a-new-AgentBasedModel-implementation" title="Permalink"></a></h2><p>The interface defined by <code>AgentBasedModel</code>, that needs to be satisfied by new implementations, is very small. It is contained in the file <code>src/core/model_abstract.jl</code>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../comparison/">« ABM Framework Comparison</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.17.0 on <span class="colophon-date" title="Friday 27 February 2026 20:29">Friday 27 February 2026</span>. Using Julia version 1.12.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
