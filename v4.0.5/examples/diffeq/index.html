<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>DifferentialEquations.jl · Agents.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="https://fonts.googleapis.com/css?family=Montserrat|Source+Code+Pro&amp;display=swap" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="Agents.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">Agents.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><a class="tocitem" href="../../tutorial/">Tutorial</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../">Overview</a></li><li><a class="tocitem" href="../schelling/">Schelling&#39;s segregation model</a></li><li><a class="tocitem" href="../sugarscape/">Sugarscape</a></li><li><a class="tocitem" href="../sir/">SIR model for the spread of COVID-19</a></li><li><a class="tocitem" href="../social_distancing/">Continuous space social distancing for COVID-19</a></li><li><a class="tocitem" href="../wealth_distribution/">Wealth distribution</a></li><li><a class="tocitem" href="../forest_fire/">Forest fire</a></li><li><a class="tocitem" href="../game_of_life_2D_CA/">Conway&#39;s game of life</a></li><li><a class="tocitem" href="../wright-fisher/">Wright-Fisher model of evolution</a></li><li><a class="tocitem" href="../hk/">Hegselmann-Krause opinion dynamics</a></li><li><a class="tocitem" href="../flock/">Flocking</a></li><li><a class="tocitem" href="../daisyworld/">Daisyworld</a></li><li><a class="tocitem" href="../predator_prey/">Predator-Prey</a></li><li><a class="tocitem" href="../growing_bacteria/">Bacteria Growth</a></li><li><a class="tocitem" href="../opinion_spread/">Opinion spread</a></li><li><a class="tocitem" href="../battle/">Battle Royale</a></li><li><a class="tocitem" href="../zombies/">Zombie Outbreak</a></li></ul></li><li><a class="tocitem" href="../../models/">Predefined Models</a></li><li><a class="tocitem" href="../../api/">API</a></li><li><a class="tocitem" href="../../interact/">Interactive application</a></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox" checked/><label class="tocitem" for="menuitem-7"><span class="docs-label">Ecosystem Integration</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../optim/">BlackBoxOptim.jl</a></li><li class="is-active"><a class="tocitem" href>DifferentialEquations.jl</a><ul class="internal"><li><a class="tocitem" href="#Problem-setup"><span>Problem setup</span></a></li><li><a class="tocitem" href="#Coupling-DifferentialEquations.jl-to-Agents.jl"><span>Coupling DifferentialEquations.jl to Agents.jl</span></a></li><li><a class="tocitem" href="#Coupling-Agents.jl-to-DifferentialEquations.jl"><span>Coupling Agents.jl to DifferentialEquations.jl</span></a></li></ul></li><li><a class="tocitem" href="../schoolyard/">LightGraphs.jl</a></li><li><a class="tocitem" href="../measurements/">Measurements.jl</a></li></ul></li><li><a class="tocitem" href="../../comparison/">ABM Framework Comparison</a></li><li><a class="tocitem" href="../../devdocs/">Developer Docs</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Ecosystem Integration</a></li><li class="is-active"><a href>DifferentialEquations.jl</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>DifferentialEquations.jl</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaDynamics/Agents.jl/blob/master/examples/diffeq.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Integrating-Agents.jl-with-DifferentialEquations.jl"><a class="docs-heading-anchor" href="#Integrating-Agents.jl-with-DifferentialEquations.jl">Integrating Agents.jl with DifferentialEquations.jl</a><a id="Integrating-Agents.jl-with-DifferentialEquations.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Integrating-Agents.jl-with-DifferentialEquations.jl" title="Permalink"></a></h1><p>Leveraging other best-in-class packages from the Julia ecosystem is one of the many strengths Agents.jl provides over alternative ABMs.</p><p>The <a href="https://github.com/SciML/DifferentialEquations.jl">DifferentialEquations.jl</a> package is one excellent example. Here, we provide a few ways of leveraging <code>DifferentialEquations</code> to solve agent based models in an efficient and performant manner, whilst mitigating stability issues one may encounter.</p><p>It is common in discrete time step tools (such as <code>Agents</code>) to also discretise equations required for obtaining solutions. In the following example, we use the <a href="https://en.wikipedia.org/wiki/Euler_method">forward Euler method</a> to discretise a logistic function</p><p><span>$\frac{\mathrm{d}s}{\mathrm{d}t} = s \left(1-\frac{s}{120}\right) - h$</span></p><p>into</p><p><span>$s_{t+1} = s_t + s_t (1-s_t/120)-h.$</span></p><p>In this example, <span>$s$</span> denotes some fish <strong>s</strong>tock that increases over time until a maximum population (e.g. 120 here) is met, with the additional property that a <strong>h</strong>arvest (<span>$h$</span>) may also remove some population (we also assume a timestep of 1 normalised unit to simplify things).</p><h2 id="Problem-setup"><a class="docs-heading-anchor" href="#Problem-setup">Problem setup</a><a id="Problem-setup-1"></a><a class="docs-heading-anchor-permalink" href="#Problem-setup" title="Permalink"></a></h2><p>Let&#39;s build a fishing community with fishers, each with differing methods and experience, culminating in a variety of competence when it comes to actually catching fish.</p><pre><code class="language-julia">using Agents
using Distributions
using Plots

mutable struct Fisher &lt;: AbstractAgent
    id::Int
    competence::Int
    yearly_catch::Float64
end

function agent_step!(agent, model)
    # Make sure we sample from the fish distribution
    agent.yearly_catch = rand(Poisson(agent.competence))
end

function dstock(model)
    # Only allow fishing if stocks are high enough
    h = model.stock &gt; model.min_threshold ? sum(a.yearly_catch for a in allagents(model)) :
        0.0

    model.stock * (1 - (model.stock / model.max_population)) - h
end

function model_step!(model)
    model.stock += dstock(model)
end</code></pre><p>These methods should be quite straightforward: each step of the model (<code>agent_step!</code>), every agent will catch some fish based on their competency. There are some safeguards in place to not allow fishers to totally deplete the stock, thus <code>dstock</code> checks the total yearly catch and only harvests if the population is above a minimal threshold (in a more complete example, one should set a flag to state that this year&#39;s catch exceeded the limit and regulate fishing next year, but we&#39;ll ignore this complexity for this example).</p><p>Building this model is simple. Set some initial conditions for the stock, and add agents with some competence.</p><pre><code class="language-julia">function initialise(;
    stock = 5.0, # Initial population of fish
    max_population = 500.0, # Maximum value of fish stock
    min_threshold = 60.0, # Regulate fishing if population drops below this value
    nagents = 50,
)
    model = ABM(
        Fisher;
        properties = Dict(
            :stock =&gt; stock,
            :max_population =&gt; max_population,
            :min_threshold =&gt; min_threshold,
        ),
    )
    for _ in 1:nagents
        add_agent!(
            model,
            # Competence level is a lognormal distribution between 1 and 5
            floor(rand(truncated(LogNormal(), 1, 6))),
            # Yearly catch can start at 0
            0.0,
        )
    end
    model
end</code></pre><p>We can now run the model and see how the fishery fairs over the next 20 years.</p><pre><code class="language-julia">model = initialise()
_, results = run!(model, agent_step!, model_step!, 20; mdata = [:stock])

plot(results.stock; legend = false, ylabel = &quot;Stock&quot;, xlabel = &quot;Year&quot;)</code></pre><?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600">
<defs>
  <clipPath id="clip140">
    <rect x="0" y="0" width="2400" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip140)" d="
M0 1600 L2400 1600 L2400 0 L0 0  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip141">
    <rect x="480" y="0" width="1681" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip140)" d="
M224.866 1423.18 L2352.76 1423.18 L2352.76 47.2441 L224.866 47.2441  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip142">
    <rect x="224" y="47" width="2129" height="1377"/>
  </clipPath>
</defs>
<polyline clip-path="url(#clip142)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  686.578,1423.18 686.578,47.2441 
  "/>
<polyline clip-path="url(#clip142)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1188.44,1423.18 1188.44,47.2441 
  "/>
<polyline clip-path="url(#clip142)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1690.3,1423.18 1690.3,47.2441 
  "/>
<polyline clip-path="url(#clip142)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  2192.16,1423.18 2192.16,47.2441 
  "/>
<polyline clip-path="url(#clip140)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  224.866,1423.18 2352.76,1423.18 
  "/>
<polyline clip-path="url(#clip140)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  686.578,1423.18 686.578,1406.67 
  "/>
<polyline clip-path="url(#clip140)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  1188.44,1423.18 1188.44,1406.67 
  "/>
<polyline clip-path="url(#clip140)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  1690.3,1423.18 1690.3,1406.67 
  "/>
<polyline clip-path="url(#clip140)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  2192.16,1423.18 2192.16,1406.67 
  "/>
<path clip-path="url(#clip140)" d="M 0 0 M676.856 1449.29 L695.212 1449.29 L695.212 1453.23 L681.138 1453.23 L681.138 1461.7 Q682.157 1461.35 683.175 1461.19 Q684.194 1461 685.212 1461 Q690.999 1461 694.379 1464.18 Q697.759 1467.35 697.759 1472.76 Q697.759 1478.34 694.286 1481.44 Q690.814 1484.52 684.495 1484.52 Q682.319 1484.52 680.05 1484.15 Q677.805 1483.78 675.398 1483.04 L675.398 1478.34 Q677.481 1479.48 679.703 1480.03 Q681.925 1480.59 684.402 1480.59 Q688.407 1480.59 690.745 1478.48 Q693.083 1476.38 693.083 1472.76 Q693.083 1469.15 690.745 1467.05 Q688.407 1464.94 684.402 1464.94 Q682.527 1464.94 680.652 1465.36 Q678.8 1465.77 676.856 1466.65 L676.856 1449.29 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip140)" d="M 0 0 M1165.31 1479.92 L1172.95 1479.92 L1172.95 1453.55 L1164.64 1455.22 L1164.64 1450.96 L1172.91 1449.29 L1177.58 1449.29 L1177.58 1479.92 L1185.22 1479.92 L1185.22 1483.85 L1165.31 1483.85 L1165.31 1479.92 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip140)" d="M 0 0 M1200.29 1452.37 Q1196.68 1452.37 1194.85 1455.94 Q1193.05 1459.48 1193.05 1466.61 Q1193.05 1473.71 1194.85 1477.28 Q1196.68 1480.82 1200.29 1480.82 Q1203.92 1480.82 1205.73 1477.28 Q1207.56 1473.71 1207.56 1466.61 Q1207.56 1459.48 1205.73 1455.94 Q1203.92 1452.37 1200.29 1452.37 M1200.29 1448.67 Q1206.1 1448.67 1209.16 1453.27 Q1212.24 1457.86 1212.24 1466.61 Q1212.24 1475.33 1209.16 1479.94 Q1206.1 1484.52 1200.29 1484.52 Q1194.48 1484.52 1191.4 1479.94 Q1188.35 1475.33 1188.35 1466.61 Q1188.35 1457.86 1191.4 1453.27 Q1194.48 1448.67 1200.29 1448.67 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip140)" d="M 0 0 M1667.67 1479.92 L1675.31 1479.92 L1675.31 1453.55 L1667 1455.22 L1667 1450.96 L1675.27 1449.29 L1679.94 1449.29 L1679.94 1479.92 L1687.58 1479.92 L1687.58 1483.85 L1667.67 1483.85 L1667.67 1479.92 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip140)" d="M 0 0 M1692.7 1449.29 L1711.05 1449.29 L1711.05 1453.23 L1696.98 1453.23 L1696.98 1461.7 Q1698 1461.35 1699.01 1461.19 Q1700.03 1461 1701.05 1461 Q1706.84 1461 1710.22 1464.18 Q1713.6 1467.35 1713.6 1472.76 Q1713.6 1478.34 1710.13 1481.44 Q1706.65 1484.52 1700.33 1484.52 Q1698.16 1484.52 1695.89 1484.15 Q1693.64 1483.78 1691.24 1483.04 L1691.24 1478.34 Q1693.32 1479.48 1695.54 1480.03 Q1697.76 1480.59 1700.24 1480.59 Q1704.25 1480.59 1706.58 1478.48 Q1708.92 1476.38 1708.92 1472.76 Q1708.92 1469.15 1706.58 1467.05 Q1704.25 1464.94 1700.24 1464.94 Q1698.37 1464.94 1696.49 1465.36 Q1694.64 1465.77 1692.7 1466.65 L1692.7 1449.29 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip140)" d="M 0 0 M2173.31 1479.92 L2189.63 1479.92 L2189.63 1483.85 L2167.68 1483.85 L2167.68 1479.92 Q2170.34 1477.16 2174.93 1472.53 Q2179.53 1467.88 2180.71 1466.54 Q2182.96 1464.01 2183.84 1462.28 Q2184.74 1460.52 2184.74 1458.83 Q2184.74 1456.07 2182.8 1454.34 Q2180.88 1452.6 2177.77 1452.6 Q2175.57 1452.6 2173.12 1453.37 Q2170.69 1454.13 2167.91 1455.68 L2167.91 1450.96 Q2170.74 1449.82 2173.19 1449.25 Q2175.64 1448.67 2177.68 1448.67 Q2183.05 1448.67 2186.25 1451.35 Q2189.44 1454.04 2189.44 1458.53 Q2189.44 1460.66 2188.63 1462.58 Q2187.84 1464.48 2185.74 1467.07 Q2185.16 1467.74 2182.06 1470.96 Q2178.95 1474.15 2173.31 1479.92 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip140)" d="M 0 0 M2204.7 1452.37 Q2201.08 1452.37 2199.26 1455.94 Q2197.45 1459.48 2197.45 1466.61 Q2197.45 1473.71 2199.26 1477.28 Q2201.08 1480.82 2204.7 1480.82 Q2208.33 1480.82 2210.13 1477.28 Q2211.96 1473.71 2211.96 1466.61 Q2211.96 1459.48 2210.13 1455.94 Q2208.33 1452.37 2204.7 1452.37 M2204.7 1448.67 Q2210.51 1448.67 2213.56 1453.27 Q2216.64 1457.86 2216.64 1466.61 Q2216.64 1475.33 2213.56 1479.94 Q2210.51 1484.52 2204.7 1484.52 Q2198.88 1484.52 2195.81 1479.94 Q2192.75 1475.33 2192.75 1466.61 Q2192.75 1457.86 2195.81 1453.27 Q2198.88 1448.67 2204.7 1448.67 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip140)" d="M 0 0 M1224.37 1520.52 L1231.28 1520.52 L1244.46 1540.07 L1257.54 1520.52 L1264.45 1520.52 L1247.64 1545.41 L1247.64 1568.04 L1241.18 1568.04 L1241.18 1545.41 L1224.37 1520.52 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip140)" d="M 0 0 M1292.42 1548.76 L1292.42 1551.62 L1265.5 1551.62 Q1265.88 1557.67 1269.13 1560.85 Q1272.4 1564 1278.23 1564 Q1281.6 1564 1284.75 1563.17 Q1287.94 1562.35 1291.05 1560.69 L1291.05 1566.23 Q1287.9 1567.57 1284.59 1568.27 Q1281.28 1568.97 1277.88 1568.97 Q1269.35 1568.97 1264.35 1564 Q1259.39 1559.04 1259.39 1550.57 Q1259.39 1541.82 1264.1 1536.69 Q1268.84 1531.54 1276.86 1531.54 Q1284.05 1531.54 1288.22 1536.18 Q1292.42 1540.8 1292.42 1548.76 M1286.57 1547.04 Q1286.5 1542.23 1283.86 1539.37 Q1281.25 1536.5 1276.92 1536.5 Q1272.02 1536.5 1269.06 1539.27 Q1266.13 1542.04 1265.69 1547.07 L1286.57 1547.04 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip140)" d="M 0 0 M1314.77 1550.12 Q1307.67 1550.12 1304.93 1551.75 Q1302.19 1553.37 1302.19 1557.29 Q1302.19 1560.4 1304.23 1562.25 Q1306.3 1564.07 1309.83 1564.07 Q1314.7 1564.07 1317.63 1560.63 Q1320.59 1557.16 1320.59 1551.43 L1320.59 1550.12 L1314.77 1550.12 M1326.45 1547.71 L1326.45 1568.04 L1320.59 1568.04 L1320.59 1562.63 Q1318.59 1565.88 1315.59 1567.44 Q1312.6 1568.97 1308.27 1568.97 Q1302.8 1568.97 1299.55 1565.91 Q1296.34 1562.82 1296.34 1557.67 Q1296.34 1551.65 1300.35 1548.6 Q1304.39 1545.54 1312.38 1545.54 L1320.59 1545.54 L1320.59 1544.97 Q1320.59 1540.93 1317.92 1538.73 Q1315.28 1536.5 1310.47 1536.5 Q1307.41 1536.5 1304.52 1537.23 Q1301.62 1537.97 1298.95 1539.43 L1298.95 1534.02 Q1302.16 1532.78 1305.19 1532.17 Q1308.21 1531.54 1311.08 1531.54 Q1318.81 1531.54 1322.63 1535.55 Q1326.45 1539.56 1326.45 1547.71 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip140)" d="M 0 0 M1353.25 1537.87 Q1352.26 1537.3 1351.08 1537.04 Q1349.94 1536.76 1348.54 1536.76 Q1343.57 1536.76 1340.9 1540 Q1338.26 1543.22 1338.26 1549.27 L1338.26 1568.04 L1332.37 1568.04 L1332.37 1532.4 L1338.26 1532.4 L1338.26 1537.93 Q1340.1 1534.69 1343.06 1533.13 Q1346.02 1531.54 1350.26 1531.54 Q1350.86 1531.54 1351.59 1531.63 Q1352.32 1531.7 1353.22 1531.85 L1353.25 1537.87 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip142)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  224.866,1203 2352.76,1203 
  "/>
<polyline clip-path="url(#clip142)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  224.866,961.344 2352.76,961.344 
  "/>
<polyline clip-path="url(#clip142)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  224.866,719.69 2352.76,719.69 
  "/>
<polyline clip-path="url(#clip142)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  224.866,478.037 2352.76,478.037 
  "/>
<polyline clip-path="url(#clip142)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  224.866,236.383 2352.76,236.383 
  "/>
<polyline clip-path="url(#clip140)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  224.866,1423.18 224.866,47.2441 
  "/>
<polyline clip-path="url(#clip140)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  224.866,1203 250.401,1203 
  "/>
<polyline clip-path="url(#clip140)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  224.866,961.344 250.401,961.344 
  "/>
<polyline clip-path="url(#clip140)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  224.866,719.69 250.401,719.69 
  "/>
<polyline clip-path="url(#clip140)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  224.866,478.037 250.401,478.037 
  "/>
<polyline clip-path="url(#clip140)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  224.866,236.383 250.401,236.383 
  "/>
<path clip-path="url(#clip140)" d="M 0 0 M145.533 1216.34 L161.852 1216.34 L161.852 1220.28 L139.908 1220.28 L139.908 1216.34 Q142.57 1213.59 147.153 1208.96 Q151.76 1204.31 152.941 1202.96 Q155.186 1200.44 156.065 1198.7 Q156.968 1196.94 156.968 1195.25 Q156.968 1192.5 155.024 1190.76 Q153.103 1189.03 150.001 1189.03 Q147.802 1189.03 145.348 1189.79 Q142.917 1190.56 140.14 1192.11 L140.14 1187.38 Q142.964 1186.25 145.417 1185.67 Q147.871 1185.09 149.908 1185.09 Q155.278 1185.09 158.473 1187.78 Q161.667 1190.46 161.667 1194.95 Q161.667 1197.08 160.857 1199 Q160.07 1200.9 157.964 1203.5 Q157.385 1204.17 154.283 1207.38 Q151.181 1210.58 145.533 1216.34 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip140)" d="M 0 0 M176.922 1188.8 Q173.311 1188.8 171.482 1192.36 Q169.677 1195.9 169.677 1203.03 Q169.677 1210.14 171.482 1213.7 Q173.311 1217.25 176.922 1217.25 Q180.556 1217.25 182.362 1213.7 Q184.19 1210.14 184.19 1203.03 Q184.19 1195.9 182.362 1192.36 Q180.556 1188.8 176.922 1188.8 M176.922 1185.09 Q182.732 1185.09 185.788 1189.7 Q188.866 1194.28 188.866 1203.03 Q188.866 1211.76 185.788 1216.37 Q182.732 1220.95 176.922 1220.95 Q171.112 1220.95 168.033 1216.37 Q164.977 1211.76 164.977 1203.03 Q164.977 1194.28 168.033 1189.7 Q171.112 1185.09 176.922 1185.09 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip140)" d="M 0 0 M152.269 948.138 L140.464 966.587 L152.269 966.587 L152.269 948.138 M151.042 944.064 L156.922 944.064 L156.922 966.587 L161.852 966.587 L161.852 970.476 L156.922 970.476 L156.922 978.624 L152.269 978.624 L152.269 970.476 L136.667 970.476 L136.667 965.962 L151.042 944.064 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip140)" d="M 0 0 M176.922 947.143 Q173.311 947.143 171.482 950.708 Q169.677 954.249 169.677 961.379 Q169.677 968.485 171.482 972.05 Q173.311 975.592 176.922 975.592 Q180.556 975.592 182.362 972.05 Q184.19 968.485 184.19 961.379 Q184.19 954.249 182.362 950.708 Q180.556 947.143 176.922 947.143 M176.922 943.439 Q182.732 943.439 185.788 948.046 Q188.866 952.629 188.866 961.379 Q188.866 970.106 185.788 974.712 Q182.732 979.295 176.922 979.295 Q171.112 979.295 168.033 974.712 Q164.977 970.106 164.977 961.379 Q164.977 952.629 168.033 948.046 Q171.112 943.439 176.922 943.439 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip140)" d="M 0 0 M150.325 717.827 Q147.177 717.827 145.325 719.98 Q143.496 722.132 143.496 725.882 Q143.496 729.609 145.325 731.785 Q147.177 733.938 150.325 733.938 Q153.473 733.938 155.302 731.785 Q157.153 729.609 157.153 725.882 Q157.153 722.132 155.302 719.98 Q153.473 717.827 150.325 717.827 M159.607 703.174 L159.607 707.433 Q157.848 706.6 156.042 706.16 Q154.26 705.721 152.501 705.721 Q147.871 705.721 145.417 708.845 Q142.987 711.97 142.64 718.29 Q144.005 716.276 146.066 715.211 Q148.126 714.123 150.603 714.123 Q155.811 714.123 158.82 717.295 Q161.852 720.443 161.852 725.882 Q161.852 731.206 158.704 734.424 Q155.556 737.642 150.325 737.642 Q144.329 737.642 141.158 733.058 Q137.987 728.452 137.987 719.725 Q137.987 711.531 141.876 706.67 Q145.765 701.785 152.316 701.785 Q154.075 701.785 155.857 702.133 Q157.663 702.48 159.607 703.174 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip140)" d="M 0 0 M176.922 705.489 Q173.311 705.489 171.482 709.054 Q169.677 712.595 169.677 719.725 Q169.677 726.832 171.482 730.396 Q173.311 733.938 176.922 733.938 Q180.556 733.938 182.362 730.396 Q184.19 726.832 184.19 719.725 Q184.19 712.595 182.362 709.054 Q180.556 705.489 176.922 705.489 M176.922 701.785 Q182.732 701.785 185.788 706.392 Q188.866 710.975 188.866 719.725 Q188.866 728.452 185.788 733.058 Q182.732 737.642 176.922 737.642 Q171.112 737.642 168.033 733.058 Q164.977 728.452 164.977 719.725 Q164.977 710.975 168.033 706.392 Q171.112 701.785 176.922 701.785 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip140)" d="M 0 0 M150.001 478.905 Q146.667 478.905 144.746 480.687 Q142.848 482.469 142.848 485.594 Q142.848 488.719 144.746 490.502 Q146.667 492.284 150.001 492.284 Q153.334 492.284 155.255 490.502 Q157.177 488.696 157.177 485.594 Q157.177 482.469 155.255 480.687 Q153.357 478.905 150.001 478.905 M145.325 476.914 Q142.316 476.173 140.626 474.113 Q138.959 472.053 138.959 469.09 Q138.959 464.946 141.899 462.539 Q144.862 460.132 150.001 460.132 Q155.163 460.132 158.103 462.539 Q161.042 464.946 161.042 469.09 Q161.042 472.053 159.353 474.113 Q157.686 476.173 154.7 476.914 Q158.079 477.701 159.954 479.993 Q161.852 482.284 161.852 485.594 Q161.852 490.617 158.774 493.303 Q155.718 495.988 150.001 495.988 Q144.283 495.988 141.204 493.303 Q138.149 490.617 138.149 485.594 Q138.149 482.284 140.047 479.993 Q141.945 477.701 145.325 476.914 M143.612 469.53 Q143.612 472.215 145.279 473.719 Q146.968 475.224 150.001 475.224 Q153.01 475.224 154.7 473.719 Q156.413 472.215 156.413 469.53 Q156.413 466.844 154.7 465.34 Q153.01 463.835 150.001 463.835 Q146.968 463.835 145.279 465.34 Q143.612 466.844 143.612 469.53 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip140)" d="M 0 0 M176.922 463.835 Q173.311 463.835 171.482 467.4 Q169.677 470.942 169.677 478.071 Q169.677 485.178 171.482 488.743 Q173.311 492.284 176.922 492.284 Q180.556 492.284 182.362 488.743 Q184.19 485.178 184.19 478.071 Q184.19 470.942 182.362 467.4 Q180.556 463.835 176.922 463.835 M176.922 460.132 Q182.732 460.132 185.788 464.738 Q188.866 469.321 188.866 478.071 Q188.866 486.798 185.788 491.405 Q182.732 495.988 176.922 495.988 Q171.112 495.988 168.033 491.405 Q164.977 486.798 164.977 478.071 Q164.977 469.321 168.033 464.738 Q171.112 460.132 176.922 460.132 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip140)" d="M 0 0 M114.931 249.728 L122.57 249.728 L122.57 223.362 L114.26 225.029 L114.26 220.769 L122.524 219.103 L127.2 219.103 L127.2 249.728 L134.839 249.728 L134.839 253.663 L114.931 253.663 L114.931 249.728 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip140)" d="M 0 0 M149.908 222.181 Q146.297 222.181 144.468 225.746 Q142.663 229.288 142.663 236.417 Q142.663 243.524 144.468 247.089 Q146.297 250.63 149.908 250.63 Q153.542 250.63 155.348 247.089 Q157.177 243.524 157.177 236.417 Q157.177 229.288 155.348 225.746 Q153.542 222.181 149.908 222.181 M149.908 218.478 Q155.718 218.478 158.774 223.084 Q161.852 227.668 161.852 236.417 Q161.852 245.144 158.774 249.751 Q155.718 254.334 149.908 254.334 Q144.098 254.334 141.019 249.751 Q137.964 245.144 137.964 236.417 Q137.964 227.668 141.019 223.084 Q144.098 218.478 149.908 218.478 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip140)" d="M 0 0 M176.922 222.181 Q173.311 222.181 171.482 225.746 Q169.677 229.288 169.677 236.417 Q169.677 243.524 171.482 247.089 Q173.311 250.63 176.922 250.63 Q180.556 250.63 182.362 247.089 Q184.19 243.524 184.19 236.417 Q184.19 229.288 182.362 225.746 Q180.556 222.181 176.922 222.181 M176.922 218.478 Q182.732 218.478 185.788 223.084 Q188.866 227.668 188.866 236.417 Q188.866 245.144 185.788 249.751 Q182.732 254.334 176.922 254.334 Q171.112 254.334 168.033 249.751 Q164.977 245.144 164.977 236.417 Q164.977 227.668 168.033 223.084 Q171.112 218.478 176.922 218.478 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip140)" d="M 0 0 M18.0438 786.185 L24.314 786.185 Q22.5634 789.846 21.704 793.092 Q20.8447 796.339 20.8447 799.362 Q20.8447 804.614 22.8817 807.479 Q24.9187 810.311 28.6745 810.311 Q31.8255 810.311 33.4488 808.434 Q35.0402 806.524 36.0269 801.24 L36.8226 797.357 Q38.1912 790.164 41.6605 786.758 Q45.098 783.321 50.8908 783.321 Q57.7976 783.321 61.3624 787.968 Q64.9272 792.583 64.9272 801.527 Q64.9272 804.901 64.1633 808.72 Q63.3994 812.508 61.9035 816.582 L55.2831 816.582 Q57.4793 812.667 58.5933 808.911 Q59.7073 805.155 59.7073 801.527 Q59.7073 796.02 57.543 793.028 Q55.3786 790.037 51.3682 790.037 Q47.8671 790.037 45.8937 792.201 Q43.9204 794.333 42.9337 799.235 L42.1698 803.15 Q40.7375 810.343 37.682 813.558 Q34.6264 816.773 29.1837 816.773 Q22.8817 816.773 19.2532 812.348 Q15.6248 807.892 15.6248 800.094 Q15.6248 796.752 16.2295 793.283 Q16.8343 789.814 18.0438 786.185 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip140)" d="M 0 0 M18.2347 771.385 L28.3562 771.385 L28.3562 759.322 L32.9077 759.322 L32.9077 771.385 L52.2594 771.385 Q56.6199 771.385 57.8613 770.207 Q59.1026 768.998 59.1026 765.338 L59.1026 759.322 L64.0042 759.322 L64.0042 765.338 Q64.0042 772.117 61.4897 774.695 Q58.9434 777.273 52.2594 777.273 L32.9077 777.273 L32.9077 781.57 L28.3562 781.57 L28.3562 777.273 L18.2347 777.273 L18.2347 771.385 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip140)" d="M 0 0 M32.4621 739.366 Q32.4621 744.076 36.1542 746.813 Q39.8145 749.551 46.212 749.551 Q52.6095 749.551 56.3017 746.845 Q59.9619 744.108 59.9619 739.366 Q59.9619 734.687 56.2698 731.95 Q52.5777 729.212 46.212 729.212 Q39.8781 729.212 36.186 731.95 Q32.4621 734.687 32.4621 739.366 M27.4968 739.366 Q27.4968 731.727 32.4621 727.366 Q37.4273 723.006 46.212 723.006 Q54.9649 723.006 59.9619 727.366 Q64.9272 731.727 64.9272 739.366 Q64.9272 747.036 59.9619 751.397 Q54.9649 755.725 46.212 755.725 Q37.4273 755.725 32.4621 751.397 Q27.4968 747.036 27.4968 739.366 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip140)" d="M 0 0 M29.7248 691.209 L35.1993 691.209 Q33.8307 693.692 33.1623 696.206 Q32.4621 698.689 32.4621 701.235 Q32.4621 706.932 36.0905 710.083 Q39.6872 713.234 46.212 713.234 Q52.7369 713.234 56.3653 710.083 Q59.9619 706.932 59.9619 701.235 Q59.9619 698.689 59.2935 696.206 Q58.5933 693.692 57.2247 691.209 L62.6355 691.209 Q63.7814 693.66 64.3543 696.302 Q64.9272 698.912 64.9272 701.872 Q64.9272 709.924 59.8664 714.667 Q54.8057 719.409 46.212 719.409 Q37.491 719.409 32.4939 714.635 Q27.4968 709.829 27.4968 701.49 Q27.4968 698.784 28.0697 696.206 Q28.6108 693.628 29.7248 691.209 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip140)" d="M 0 0 M14.479 685.289 L14.479 679.401 L43.7294 679.401 L28.3562 661.927 L28.3562 654.447 L45.0344 673.353 L64.0042 653.651 L64.0042 661.29 L46.5939 679.401 L64.0042 679.401 L64.0042 685.289 L14.479 685.289 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip142)" style="stroke:#009af9; stroke-width:4; stroke-opacity:1; fill:none" points="
  285.09,1384.24 385.462,1324.43 485.834,1206.6 586.206,977.926 686.578,547.257 786.95,846.44 887.322,307.463 987.695,363.029 1088.07,671.244 1188.44,1120.54 
  1288.81,813.81 1389.18,248.842 1489.56,316.756 1589.93,511.041 1690.3,700.406 1790.67,1074.87 1891.04,727.73 1991.42,95.8851 2091.79,87.35 2192.16,86.1857 
  2292.53,277.703 
  "/>
</svg>
<h3 id="Add-in-some-bureaucracy"><a class="docs-heading-anchor" href="#Add-in-some-bureaucracy">Add in some bureaucracy</a><a id="Add-in-some-bureaucracy-1"></a><a class="docs-heading-anchor-permalink" href="#Add-in-some-bureaucracy" title="Permalink"></a></h3><p>OK, so let&#39;s add in some annoyances for the fishers. Of course, they wish to go out and catch regularly, but regulators only want to do their job once a year! Since it&#39;s the regulators who will monitor the total stock condition and advise fishers as to whether or not they can continue fishing, a systematic blind spot is inadvertently introduced into the system. Yearly catch and regulation occur on one day a year, whilst the stock will of course grow on a daily basis.</p><p>To achieve this, we extend the model like so:</p><pre><code class="language-julia">function agent_step!(agent, model)
    if model.tick % 365 == 0
        agent.yearly_catch = rand(Poisson(agent.competence))
    end
end

function dstock(model)
    # Only allow fishing if stocks are high enough
    # (monitored yearly, so this will return 0 364 days of the year)
    h = model.tick % 365 == 0 &amp;&amp; model.stock &gt; model.min_threshold ?
        sum(a.yearly_catch for a in allagents(model)) : 0.0

    model.stock * (1 - (model.stock / model.max_population)) - h
end

function model_step!(model)
    model.tick += 1
    model.stock += dstock(model)
end

function initialise(;
    stock = 400.0, # Initial population of fish (lets move to an equilibrium position)
    max_population = 500.0, # Maximum value of fish stock
    min_threshold = 60.0, # Regulate fishing if population drops below this value
    nagents = 50,
)
    model = ABM(
        Fisher;
        properties = Dict(
            :stock =&gt; stock,
            :max_population =&gt; max_population,
            :min_threshold =&gt; min_threshold,
            :tick =&gt; 0, # Time keeper in units of days
        ),
    )
    for _ in 1:nagents
        add_agent!(model, floor(rand(truncated(LogNormal(), 1, 6))), 0.0)
    end
    model
end</code></pre><p>Now that our model is running with a daily timestep, we must extend the run length value, and we&#39;ll also start from a steady state population.</p><pre><code class="language-julia">model = initialise()
yearly(model, s) = s % 365 == 0
_, results =
    run!(model, agent_step!, model_step!, 20 * 365; mdata = [:stock], when = yearly)

plot(results.stock; legend = false, ylabel = &quot;Stock&quot;, xlabel = &quot;Year&quot;)</code></pre><?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600">
<defs>
  <clipPath id="clip200">
    <rect x="0" y="0" width="2400" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip200)" d="
M0 1600 L2400 1600 L2400 0 L0 0  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip201">
    <rect x="480" y="0" width="1681" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip200)" d="
M229.473 1423.18 L2352.76 1423.18 L2352.76 47.2441 L229.473 47.2441  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip202">
    <rect x="229" y="47" width="2124" height="1377"/>
  </clipPath>
</defs>
<polyline clip-path="url(#clip202)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  690.185,1423.18 690.185,47.2441 
  "/>
<polyline clip-path="url(#clip202)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1190.96,1423.18 1190.96,47.2441 
  "/>
<polyline clip-path="url(#clip202)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1691.73,1423.18 1691.73,47.2441 
  "/>
<polyline clip-path="url(#clip202)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  2192.51,1423.18 2192.51,47.2441 
  "/>
<polyline clip-path="url(#clip200)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.473,1423.18 2352.76,1423.18 
  "/>
<polyline clip-path="url(#clip200)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  690.185,1423.18 690.185,1406.67 
  "/>
<polyline clip-path="url(#clip200)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  1190.96,1423.18 1190.96,1406.67 
  "/>
<polyline clip-path="url(#clip200)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  1691.73,1423.18 1691.73,1406.67 
  "/>
<polyline clip-path="url(#clip200)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  2192.51,1423.18 2192.51,1406.67 
  "/>
<path clip-path="url(#clip200)" d="M 0 0 M680.463 1449.29 L698.819 1449.29 L698.819 1453.23 L684.745 1453.23 L684.745 1461.7 Q685.764 1461.35 686.782 1461.19 Q687.801 1461 688.819 1461 Q694.606 1461 697.986 1464.18 Q701.366 1467.35 701.366 1472.76 Q701.366 1478.34 697.893 1481.44 Q694.421 1484.52 688.102 1484.52 Q685.926 1484.52 683.657 1484.15 Q681.412 1483.78 679.005 1483.04 L679.005 1478.34 Q681.088 1479.48 683.31 1480.03 Q685.532 1480.59 688.009 1480.59 Q692.014 1480.59 694.352 1478.48 Q696.69 1476.38 696.69 1472.76 Q696.69 1469.15 694.352 1467.05 Q692.014 1464.94 688.009 1464.94 Q686.134 1464.94 684.259 1465.36 Q682.407 1465.77 680.463 1466.65 L680.463 1449.29 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M1167.83 1479.92 L1175.47 1479.92 L1175.47 1453.55 L1167.16 1455.22 L1167.16 1450.96 L1175.43 1449.29 L1180.1 1449.29 L1180.1 1479.92 L1187.74 1479.92 L1187.74 1483.85 L1167.83 1483.85 L1167.83 1479.92 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M1202.81 1452.37 Q1199.2 1452.37 1197.37 1455.94 Q1195.57 1459.48 1195.57 1466.61 Q1195.57 1473.71 1197.37 1477.28 Q1199.2 1480.82 1202.81 1480.82 Q1206.45 1480.82 1208.25 1477.28 Q1210.08 1473.71 1210.08 1466.61 Q1210.08 1459.48 1208.25 1455.94 Q1206.45 1452.37 1202.81 1452.37 M1202.81 1448.67 Q1208.62 1448.67 1211.68 1453.27 Q1214.76 1457.86 1214.76 1466.61 Q1214.76 1475.33 1211.68 1479.94 Q1208.62 1484.52 1202.81 1484.52 Q1197 1484.52 1193.92 1479.94 Q1190.87 1475.33 1190.87 1466.61 Q1190.87 1457.86 1193.92 1453.27 Q1197 1448.67 1202.81 1448.67 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M1669.11 1479.92 L1676.75 1479.92 L1676.75 1453.55 L1668.44 1455.22 L1668.44 1450.96 L1676.7 1449.29 L1681.38 1449.29 L1681.38 1479.92 L1689.01 1479.92 L1689.01 1483.85 L1669.11 1483.85 L1669.11 1479.92 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M1694.13 1449.29 L1712.49 1449.29 L1712.49 1453.23 L1698.41 1453.23 L1698.41 1461.7 Q1699.43 1461.35 1700.45 1461.19 Q1701.47 1461 1702.49 1461 Q1708.27 1461 1711.65 1464.18 Q1715.03 1467.35 1715.03 1472.76 Q1715.03 1478.34 1711.56 1481.44 Q1708.09 1484.52 1701.77 1484.52 Q1699.59 1484.52 1697.32 1484.15 Q1695.08 1483.78 1692.67 1483.04 L1692.67 1478.34 Q1694.75 1479.48 1696.98 1480.03 Q1699.2 1480.59 1701.68 1480.59 Q1705.68 1480.59 1708.02 1478.48 Q1710.36 1476.38 1710.36 1472.76 Q1710.36 1469.15 1708.02 1467.05 Q1705.68 1464.94 1701.68 1464.94 Q1699.8 1464.94 1697.93 1465.36 Q1696.07 1465.77 1694.13 1466.65 L1694.13 1449.29 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M2173.65 1479.92 L2189.97 1479.92 L2189.97 1483.85 L2168.03 1483.85 L2168.03 1479.92 Q2170.69 1477.16 2175.27 1472.53 Q2179.88 1467.88 2181.06 1466.54 Q2183.31 1464.01 2184.19 1462.28 Q2185.09 1460.52 2185.09 1458.83 Q2185.09 1456.07 2183.14 1454.34 Q2181.22 1452.6 2178.12 1452.6 Q2175.92 1452.6 2173.47 1453.37 Q2171.04 1454.13 2168.26 1455.68 L2168.26 1450.96 Q2171.08 1449.82 2173.54 1449.25 Q2175.99 1448.67 2178.03 1448.67 Q2183.4 1448.67 2186.59 1451.35 Q2189.79 1454.04 2189.79 1458.53 Q2189.79 1460.66 2188.98 1462.58 Q2188.19 1464.48 2186.08 1467.07 Q2185.51 1467.74 2182.4 1470.96 Q2179.3 1474.15 2173.65 1479.92 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M2205.04 1452.37 Q2201.43 1452.37 2199.6 1455.94 Q2197.8 1459.48 2197.8 1466.61 Q2197.8 1473.71 2199.6 1477.28 Q2201.43 1480.82 2205.04 1480.82 Q2208.68 1480.82 2210.48 1477.28 Q2212.31 1473.71 2212.31 1466.61 Q2212.31 1459.48 2210.48 1455.94 Q2208.68 1452.37 2205.04 1452.37 M2205.04 1448.67 Q2210.85 1448.67 2213.91 1453.27 Q2216.99 1457.86 2216.99 1466.61 Q2216.99 1475.33 2213.91 1479.94 Q2210.85 1484.52 2205.04 1484.52 Q2199.23 1484.52 2196.15 1479.94 Q2193.1 1475.33 2193.1 1466.61 Q2193.1 1457.86 2196.15 1453.27 Q2199.23 1448.67 2205.04 1448.67 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M1226.68 1520.52 L1233.58 1520.52 L1246.76 1540.07 L1259.84 1520.52 L1266.75 1520.52 L1249.94 1545.41 L1249.94 1568.04 L1243.48 1568.04 L1243.48 1545.41 L1226.68 1520.52 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M1294.73 1548.76 L1294.73 1551.62 L1267.8 1551.62 Q1268.18 1557.67 1271.43 1560.85 Q1274.71 1564 1280.53 1564 Q1283.91 1564 1287.06 1563.17 Q1290.24 1562.35 1293.36 1560.69 L1293.36 1566.23 Q1290.21 1567.57 1286.9 1568.27 Q1283.59 1568.97 1280.18 1568.97 Q1271.65 1568.97 1266.65 1564 Q1261.69 1559.04 1261.69 1550.57 Q1261.69 1541.82 1266.4 1536.69 Q1271.14 1531.54 1279.16 1531.54 Q1286.36 1531.54 1290.53 1536.18 Q1294.73 1540.8 1294.73 1548.76 M1288.87 1547.04 Q1288.81 1542.23 1286.16 1539.37 Q1283.56 1536.5 1279.23 1536.5 Q1274.32 1536.5 1271.36 1539.27 Q1268.44 1542.04 1267.99 1547.07 L1288.87 1547.04 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M1317.07 1550.12 Q1309.97 1550.12 1307.24 1551.75 Q1304.5 1553.37 1304.5 1557.29 Q1304.5 1560.4 1306.54 1562.25 Q1308.6 1564.07 1312.14 1564.07 Q1317.01 1564.07 1319.94 1560.63 Q1322.9 1557.16 1322.9 1551.43 L1322.9 1550.12 L1317.07 1550.12 M1328.75 1547.71 L1328.75 1568.04 L1322.9 1568.04 L1322.9 1562.63 Q1320.89 1565.88 1317.9 1567.44 Q1314.91 1568.97 1310.58 1568.97 Q1305.1 1568.97 1301.86 1565.91 Q1298.64 1562.82 1298.64 1557.67 Q1298.64 1551.65 1302.65 1548.6 Q1306.69 1545.54 1314.68 1545.54 L1322.9 1545.54 L1322.9 1544.97 Q1322.9 1540.93 1320.22 1538.73 Q1317.58 1536.5 1312.77 1536.5 Q1309.72 1536.5 1306.82 1537.23 Q1303.93 1537.97 1301.25 1539.43 L1301.25 1534.02 Q1304.47 1532.78 1307.49 1532.17 Q1310.51 1531.54 1313.38 1531.54 Q1321.11 1531.54 1324.93 1535.55 Q1328.75 1539.56 1328.75 1547.71 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M1355.55 1537.87 Q1354.56 1537.3 1353.39 1537.04 Q1352.24 1536.76 1350.84 1536.76 Q1345.88 1536.76 1343.2 1540 Q1340.56 1543.22 1340.56 1549.27 L1340.56 1568.04 L1334.67 1568.04 L1334.67 1532.4 L1340.56 1532.4 L1340.56 1537.93 Q1342.41 1534.69 1345.37 1533.13 Q1348.33 1531.54 1352.56 1531.54 Q1353.16 1531.54 1353.9 1531.63 Q1354.63 1531.7 1355.52 1531.85 L1355.55 1537.87 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip202)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  229.473,1234.46 2352.76,1234.46 
  "/>
<polyline clip-path="url(#clip202)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  229.473,984.837 2352.76,984.837 
  "/>
<polyline clip-path="url(#clip202)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  229.473,735.212 2352.76,735.212 
  "/>
<polyline clip-path="url(#clip202)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  229.473,485.586 2352.76,485.586 
  "/>
<polyline clip-path="url(#clip202)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  229.473,235.961 2352.76,235.961 
  "/>
<polyline clip-path="url(#clip200)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.473,1423.18 229.473,47.2441 
  "/>
<polyline clip-path="url(#clip200)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.473,1234.46 254.952,1234.46 
  "/>
<polyline clip-path="url(#clip200)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.473,984.837 254.952,984.837 
  "/>
<polyline clip-path="url(#clip200)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.473,735.212 254.952,735.212 
  "/>
<polyline clip-path="url(#clip200)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.473,485.586 254.952,485.586 
  "/>
<polyline clip-path="url(#clip200)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.473,235.961 254.952,235.961 
  "/>
<path clip-path="url(#clip200)" d="M 0 0 M129.862 1221.26 L118.056 1239.71 L129.862 1239.71 L129.862 1221.26 M128.635 1217.18 L134.515 1217.18 L134.515 1239.71 L139.445 1239.71 L139.445 1243.59 L134.515 1243.59 L134.515 1251.74 L129.862 1251.74 L129.862 1243.59 L114.26 1243.59 L114.26 1239.08 L128.635 1217.18 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M154.515 1220.26 Q150.903 1220.26 149.075 1223.83 Q147.269 1227.37 147.269 1234.5 Q147.269 1241.6 149.075 1245.17 Q150.903 1248.71 154.515 1248.71 Q158.149 1248.71 159.954 1245.17 Q161.783 1241.6 161.783 1234.5 Q161.783 1227.37 159.954 1223.83 Q158.149 1220.26 154.515 1220.26 M154.515 1216.56 Q160.325 1216.56 163.38 1221.16 Q166.459 1225.75 166.459 1234.5 Q166.459 1243.22 163.38 1247.83 Q160.325 1252.41 154.515 1252.41 Q148.704 1252.41 145.626 1247.83 Q142.57 1243.22 142.57 1234.5 Q142.57 1225.75 145.626 1221.16 Q148.704 1216.56 154.515 1216.56 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M181.528 1220.26 Q177.917 1220.26 176.089 1223.83 Q174.283 1227.37 174.283 1234.5 Q174.283 1241.6 176.089 1245.17 Q177.917 1248.71 181.528 1248.71 Q185.163 1248.71 186.968 1245.17 Q188.797 1241.6 188.797 1234.5 Q188.797 1227.37 186.968 1223.83 Q185.163 1220.26 181.528 1220.26 M181.528 1216.56 Q187.338 1216.56 190.394 1221.16 Q193.473 1225.75 193.473 1234.5 Q193.473 1243.22 190.394 1247.83 Q187.338 1252.41 181.528 1252.41 Q175.718 1252.41 172.639 1247.83 Q169.584 1243.22 169.584 1234.5 Q169.584 1225.75 172.639 1221.16 Q175.718 1216.56 181.528 1216.56 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M130.857 971.632 L119.052 990.08 L130.857 990.08 L130.857 971.632 M129.63 967.557 L135.51 967.557 L135.51 990.08 L140.441 990.08 L140.441 993.969 L135.51 993.969 L135.51 1002.12 L130.857 1002.12 L130.857 993.969 L115.256 993.969 L115.256 989.455 L129.63 967.557 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M155.51 970.636 Q151.899 970.636 150.07 974.201 Q148.265 977.743 148.265 984.872 Q148.265 991.979 150.07 995.543 Q151.899 999.085 155.51 999.085 Q159.144 999.085 160.95 995.543 Q162.778 991.979 162.778 984.872 Q162.778 977.743 160.95 974.201 Q159.144 970.636 155.51 970.636 M155.51 966.932 Q161.32 966.932 164.376 971.539 Q167.454 976.122 167.454 984.872 Q167.454 993.599 164.376 998.205 Q161.32 1002.79 155.51 1002.79 Q149.7 1002.79 146.621 998.205 Q143.566 993.599 143.566 984.872 Q143.566 976.122 146.621 971.539 Q149.7 966.932 155.51 966.932 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M172.57 967.557 L190.926 967.557 L190.926 971.493 L176.852 971.493 L176.852 979.965 Q177.871 979.618 178.889 979.456 Q179.908 979.27 180.926 979.27 Q186.713 979.27 190.093 982.442 Q193.473 985.613 193.473 991.03 Q193.473 996.608 190 999.71 Q186.528 1002.79 180.209 1002.79 Q178.033 1002.79 175.764 1002.42 Q173.519 1002.05 171.112 1001.31 L171.112 996.608 Q173.195 997.742 175.417 998.298 Q177.639 998.854 180.116 998.854 Q184.121 998.854 186.459 996.747 Q188.797 994.641 188.797 991.03 Q188.797 987.418 186.459 985.312 Q184.121 983.206 180.116 983.206 Q178.241 983.206 176.366 983.622 Q174.514 984.039 172.57 984.918 L172.57 967.557 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M131.089 722.006 L119.283 740.455 L131.089 740.455 L131.089 722.006 M129.862 717.932 L135.742 717.932 L135.742 740.455 L140.672 740.455 L140.672 744.344 L135.742 744.344 L135.742 752.492 L131.089 752.492 L131.089 744.344 L115.487 744.344 L115.487 739.83 L129.862 717.932 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M146.552 748.557 L154.19 748.557 L154.19 722.191 L145.88 723.858 L145.88 719.599 L154.144 717.932 L158.82 717.932 L158.82 748.557 L166.459 748.557 L166.459 752.492 L146.552 752.492 L146.552 748.557 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M181.528 721.011 Q177.917 721.011 176.089 724.575 Q174.283 728.117 174.283 735.247 Q174.283 742.353 176.089 745.918 Q177.917 749.46 181.528 749.46 Q185.163 749.46 186.968 745.918 Q188.797 742.353 188.797 735.247 Q188.797 728.117 186.968 724.575 Q185.163 721.011 181.528 721.011 M181.528 717.307 Q187.338 717.307 190.394 721.913 Q193.473 726.497 193.473 735.247 Q193.473 743.973 190.394 748.58 Q187.338 753.163 181.528 753.163 Q175.718 753.163 172.639 748.58 Q169.584 743.973 169.584 735.247 Q169.584 726.497 172.639 721.913 Q175.718 717.307 181.528 717.307 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M132.084 472.381 L120.279 490.829 L132.084 490.829 L132.084 472.381 M130.857 468.306 L136.737 468.306 L136.737 490.829 L141.667 490.829 L141.667 494.718 L136.737 494.718 L136.737 502.866 L132.084 502.866 L132.084 494.718 L116.482 494.718 L116.482 490.205 L130.857 468.306 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M147.547 498.931 L155.186 498.931 L155.186 472.566 L146.876 474.232 L146.876 469.973 L155.14 468.306 L159.815 468.306 L159.815 498.931 L167.454 498.931 L167.454 502.866 L147.547 502.866 L147.547 498.931 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M172.57 468.306 L190.926 468.306 L190.926 472.242 L176.852 472.242 L176.852 480.714 Q177.871 480.367 178.889 480.205 Q179.908 480.019 180.926 480.019 Q186.713 480.019 190.093 483.191 Q193.473 486.362 193.473 491.779 Q193.473 497.357 190 500.459 Q186.528 503.538 180.209 503.538 Q178.033 503.538 175.764 503.167 Q173.519 502.797 171.112 502.056 L171.112 497.357 Q173.195 498.491 175.417 499.047 Q177.639 499.603 180.116 499.603 Q184.121 499.603 186.459 497.496 Q188.797 495.39 188.797 491.779 Q188.797 488.167 186.459 486.061 Q184.121 483.955 180.116 483.955 Q178.241 483.955 176.366 484.371 Q174.514 484.788 172.57 485.667 L172.57 468.306 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M131.459 222.755 L119.654 241.204 L131.459 241.204 L131.459 222.755 M130.232 218.681 L136.112 218.681 L136.112 241.204 L141.042 241.204 L141.042 245.093 L136.112 245.093 L136.112 253.241 L131.459 253.241 L131.459 245.093 L115.857 245.093 L115.857 240.579 L130.232 218.681 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M150.14 249.306 L166.459 249.306 L166.459 253.241 L144.515 253.241 L144.515 249.306 Q147.177 246.551 151.76 241.922 Q156.366 237.269 157.547 235.926 Q159.792 233.403 160.672 231.667 Q161.575 229.908 161.575 228.218 Q161.575 225.463 159.63 223.727 Q157.709 221.991 154.607 221.991 Q152.408 221.991 149.954 222.755 Q147.524 223.519 144.746 225.07 L144.746 220.348 Q147.57 219.213 150.024 218.635 Q152.478 218.056 154.515 218.056 Q159.885 218.056 163.079 220.741 Q166.274 223.426 166.274 227.917 Q166.274 230.047 165.464 231.968 Q164.677 233.866 162.57 236.459 Q161.991 237.13 158.89 240.348 Q155.788 243.542 150.14 249.306 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M181.528 221.76 Q177.917 221.76 176.089 225.324 Q174.283 228.866 174.283 235.996 Q174.283 243.102 176.089 246.667 Q177.917 250.209 181.528 250.209 Q185.163 250.209 186.968 246.667 Q188.797 243.102 188.797 235.996 Q188.797 228.866 186.968 225.324 Q185.163 221.76 181.528 221.76 M181.528 218.056 Q187.338 218.056 190.394 222.662 Q193.473 227.246 193.473 235.996 Q193.473 244.722 190.394 249.329 Q187.338 253.912 181.528 253.912 Q175.718 253.912 172.639 249.329 Q169.584 244.722 169.584 235.996 Q169.584 227.246 172.639 222.662 Q175.718 218.056 181.528 218.056 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M18.0438 786.185 L24.314 786.185 Q22.5634 789.846 21.704 793.092 Q20.8447 796.339 20.8447 799.362 Q20.8447 804.614 22.8817 807.479 Q24.9187 810.311 28.6745 810.311 Q31.8255 810.311 33.4488 808.434 Q35.0402 806.524 36.0269 801.24 L36.8226 797.357 Q38.1912 790.164 41.6605 786.758 Q45.098 783.321 50.8908 783.321 Q57.7976 783.321 61.3624 787.968 Q64.9272 792.583 64.9272 801.527 Q64.9272 804.901 64.1633 808.72 Q63.3994 812.508 61.9035 816.582 L55.2831 816.582 Q57.4793 812.667 58.5933 808.911 Q59.7073 805.155 59.7073 801.527 Q59.7073 796.02 57.543 793.028 Q55.3786 790.037 51.3682 790.037 Q47.8671 790.037 45.8937 792.201 Q43.9204 794.333 42.9337 799.235 L42.1698 803.15 Q40.7375 810.343 37.682 813.558 Q34.6264 816.773 29.1837 816.773 Q22.8817 816.773 19.2532 812.348 Q15.6248 807.892 15.6248 800.094 Q15.6248 796.752 16.2295 793.283 Q16.8343 789.814 18.0438 786.185 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M18.2347 771.385 L28.3562 771.385 L28.3562 759.322 L32.9077 759.322 L32.9077 771.385 L52.2594 771.385 Q56.6199 771.385 57.8613 770.207 Q59.1026 768.998 59.1026 765.338 L59.1026 759.322 L64.0042 759.322 L64.0042 765.338 Q64.0042 772.117 61.4897 774.695 Q58.9434 777.273 52.2594 777.273 L32.9077 777.273 L32.9077 781.57 L28.3562 781.57 L28.3562 777.273 L18.2347 777.273 L18.2347 771.385 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M32.4621 739.366 Q32.4621 744.076 36.1542 746.813 Q39.8145 749.551 46.212 749.551 Q52.6095 749.551 56.3017 746.845 Q59.9619 744.108 59.9619 739.366 Q59.9619 734.687 56.2698 731.95 Q52.5777 729.212 46.212 729.212 Q39.8781 729.212 36.186 731.95 Q32.4621 734.687 32.4621 739.366 M27.4968 739.366 Q27.4968 731.727 32.4621 727.366 Q37.4273 723.006 46.212 723.006 Q54.9649 723.006 59.9619 727.366 Q64.9272 731.727 64.9272 739.366 Q64.9272 747.036 59.9619 751.397 Q54.9649 755.725 46.212 755.725 Q37.4273 755.725 32.4621 751.397 Q27.4968 747.036 27.4968 739.366 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M29.7248 691.209 L35.1993 691.209 Q33.8307 693.692 33.1623 696.206 Q32.4621 698.689 32.4621 701.235 Q32.4621 706.932 36.0905 710.083 Q39.6872 713.234 46.212 713.234 Q52.7369 713.234 56.3653 710.083 Q59.9619 706.932 59.9619 701.235 Q59.9619 698.689 59.2935 696.206 Q58.5933 693.692 57.2247 691.209 L62.6355 691.209 Q63.7814 693.66 64.3543 696.302 Q64.9272 698.912 64.9272 701.872 Q64.9272 709.924 59.8664 714.667 Q54.8057 719.409 46.212 719.409 Q37.491 719.409 32.4939 714.635 Q27.4968 709.829 27.4968 701.49 Q27.4968 698.784 28.0697 696.206 Q28.6108 693.628 29.7248 691.209 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip200)" d="M 0 0 M14.479 685.289 L14.479 679.401 L43.7294 679.401 L28.3562 661.927 L28.3562 654.447 L45.0344 673.353 L64.0042 653.651 L64.0042 661.29 L46.5939 679.401 L64.0042 679.401 L64.0042 685.289 L14.479 685.289 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip202)" style="stroke:#009af9; stroke-width:4; stroke-opacity:1; fill:none" points="
  289.566,1234.46 389.72,685.287 489.875,835.062 590.03,385.736 690.185,785.137 790.34,635.362 890.495,86.1857 990.65,285.886 1090.8,1184.54 1190.96,884.987 
  1291.11,735.212 1391.27,735.212 1491.42,485.586 1591.58,835.062 1691.73,285.886 1791.89,485.586 1892.04,435.661 1992.2,485.586 2092.35,535.512 2192.51,585.437 
  2292.66,1384.24 
  "/>
</svg>
<h3 id="Baseline-benchmark"><a class="docs-heading-anchor" href="#Baseline-benchmark">Baseline benchmark</a><a id="Baseline-benchmark-1"></a><a class="docs-heading-anchor-permalink" href="#Baseline-benchmark" title="Permalink"></a></h3><p>Lets get a baseline performance result for our model.</p><pre><code class="language-julia">using BenchmarkTools

@btime Agents.step!(model, agent_step!, model_step!, 20 * 365) setup =
    (model = initialise())</code></pre><pre class="documenter-example-output">  20.061 ms (79278 allocations: 1.43 MiB)</pre><p>So this is fairly quick since the model is a simple one, but it&#39;s certainly not as efficient as it could be. We calculate the stock value every single day, since the forward Eulerian method requires us to, so it can evolve correctly. In addition to this, Eulerian expansion introduces uncertainty into our results, which is tied to the choice of step size. For accurate results, one should never really use this approximate method - although it is almost ubiquitous throughout contemporary research code. For a thorough exposé on this, have a read of <a href="https://nextjournal.com/ChrisRackauckas/why-you-shouldnt-use-eulers-method-to-solve-odes">Why you shouldn&#39;t use Eulers method to solve ODEs</a>.</p><h2 id="Coupling-DifferentialEquations.jl-to-Agents.jl"><a class="docs-heading-anchor" href="#Coupling-DifferentialEquations.jl-to-Agents.jl">Coupling DifferentialEquations.jl to Agents.jl</a><a id="Coupling-DifferentialEquations.jl-to-Agents.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Coupling-DifferentialEquations.jl-to-Agents.jl" title="Permalink"></a></h2><p>Lets therefore modify our system to solve the logistic equation in a continuous context, but discretely monitor and harvest.</p><pre><code class="language-julia">import OrdinaryDiffEq

function agent_diffeq_step!(agent, model)
    agent.yearly_catch = rand(Poisson(agent.competence))
end

function model_diffeq_step!(model)
    # We step 364 days with this call.
    OrdinaryDiffEq.step!(model.i, 364.0, true)
    # Only allow fishing if stocks are high enough
    model.i.p[2] =
        model.i.u[1] &gt; model.min_threshold ? sum(a.yearly_catch for a in allagents(model)) :
        0.0
    # Notify the integrator that conditions may be altered
    OrdinaryDiffEq.u_modified!(model.i, true)
    # Then apply our catch modifier
    OrdinaryDiffEq.step!(model.i, 1.0, true)
    # Store yearly stock in the model for plotting
    model.stock = model.i.u[1]
    # And reset for the next year
    model.i.p[2] = 0.0
    OrdinaryDiffEq.u_modified!(model.i, true)
end

function initialise_diffeq(;
    stock = 400.0, # Initial population of fish (lets move to an equilibrium position)
    max_population = 500.0, # Maximum value of fish stock
    min_threshold = 60.0, # Regulate fishing if population drops below this value
    nagents = 50,
)

    function fish_stock!(ds, s, p, t)
        max_population, h = p
        ds[1] = s[1] * (1 - (s[1] / max_population)) - h
    end
    prob =
        OrdinaryDiffEq.ODEProblem(fish_stock!, [stock], (0.0, Inf), [max_population, 0.0])
    integrator = OrdinaryDiffEq.init(prob, OrdinaryDiffEq.Tsit5(); advance_to_tstop = true)

    model = ABM(
        Fisher;
        properties = Dict(
            :stock =&gt; stock,
            :max_population =&gt; max_population,
            :min_threshold =&gt; min_threshold,
            :i =&gt; integrator, # The OrdinaryDiffEq integrator
        ),
    )
    for _ in 1:nagents
        add_agent!(model, floor(rand(truncated(LogNormal(), 1, 6))), 0.0)
    end
    model
end</code></pre><p>Notice that we&#39;ve reverted back to a yearly rather than daily timestep here, since the ODE solver is now in charge of evolving the logistic function forward. We&#39;ve used the <a href="https://docs.sciml.ai/stable/basics/integrator/">integrator interface</a> to achieve this.</p><p>Note that we use <a href="https://github.com/SciML/OrdinaryDiffEq.jl"><code>OrdinaryDiffEq</code></a> here, which is a component of <code>DifferentialEquations</code>. Users may switch this to any subcomponent of the <code>DifferentialEquations</code> ecosystem, or use <code>DifferentialEquations</code> directly. Since we don&#39;t need other components for this example, we&#39;ll stick with the subcomponent but speak in general terms since the packages are interchangable in this context.</p><p>This implementation uses <code>import</code> to explicitly identify which functions are from <code>DifferentialEquations</code> and not <code>Agents</code>. However, since both <code>Agents</code> and <code>DifferentialEquations</code> provide a <code>step!</code> function, each use must be qualified explicitly if one were to choose to bring all of <code>DifferentialEquations</code> into scope via the <code>using</code> keyword.</p><pre><code class="language-julia">modeldeq = initialise_diffeq()
_, resultsdeq = run!(modeldeq, agent_diffeq_step!, model_diffeq_step!, 20; mdata = [:stock])

plot(resultsdeq.stock; legend = false, ylabel = &quot;Stock&quot;, xlabel = &quot;Year&quot;)</code></pre><?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600">
<defs>
  <clipPath id="clip260">
    <rect x="0" y="0" width="2400" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip260)" d="
M0 1600 L2400 1600 L2400 0 L0 0  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip261">
    <rect x="480" y="0" width="1681" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip260)" d="
M229.959 1423.18 L2352.76 1423.18 L2352.76 47.2441 L229.959 47.2441  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip262">
    <rect x="229" y="47" width="2124" height="1377"/>
  </clipPath>
</defs>
<polyline clip-path="url(#clip262)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  690.566,1423.18 690.566,47.2441 
  "/>
<polyline clip-path="url(#clip262)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1191.23,1423.18 1191.23,47.2441 
  "/>
<polyline clip-path="url(#clip262)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1691.89,1423.18 1691.89,47.2441 
  "/>
<polyline clip-path="url(#clip262)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  2192.54,1423.18 2192.54,47.2441 
  "/>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.959,1423.18 2352.76,1423.18 
  "/>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  690.566,1423.18 690.566,1406.67 
  "/>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  1191.23,1423.18 1191.23,1406.67 
  "/>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  1691.89,1423.18 1691.89,1406.67 
  "/>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  2192.54,1423.18 2192.54,1406.67 
  "/>
<path clip-path="url(#clip260)" d="M 0 0 M680.844 1449.29 L699.2 1449.29 L699.2 1453.23 L685.126 1453.23 L685.126 1461.7 Q686.144 1461.35 687.163 1461.19 Q688.181 1461 689.2 1461 Q694.987 1461 698.367 1464.18 Q701.746 1467.35 701.746 1472.76 Q701.746 1478.34 698.274 1481.44 Q694.802 1484.52 688.482 1484.52 Q686.306 1484.52 684.038 1484.15 Q681.793 1483.78 679.385 1483.04 L679.385 1478.34 Q681.469 1479.48 683.691 1480.03 Q685.913 1480.59 688.39 1480.59 Q692.394 1480.59 694.732 1478.48 Q697.07 1476.38 697.07 1472.76 Q697.07 1469.15 694.732 1467.05 Q692.394 1464.94 688.39 1464.94 Q686.515 1464.94 684.64 1465.36 Q682.788 1465.77 680.844 1466.65 L680.844 1449.29 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M1168.1 1479.92 L1175.74 1479.92 L1175.74 1453.55 L1167.43 1455.22 L1167.43 1450.96 L1175.69 1449.29 L1180.37 1449.29 L1180.37 1479.92 L1188.01 1479.92 L1188.01 1483.85 L1168.1 1483.85 L1168.1 1479.92 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M1203.08 1452.37 Q1199.47 1452.37 1197.64 1455.94 Q1195.83 1459.48 1195.83 1466.61 Q1195.83 1473.71 1197.64 1477.28 Q1199.47 1480.82 1203.08 1480.82 Q1206.71 1480.82 1208.52 1477.28 Q1210.35 1473.71 1210.35 1466.61 Q1210.35 1459.48 1208.52 1455.94 Q1206.71 1452.37 1203.08 1452.37 M1203.08 1448.67 Q1208.89 1448.67 1211.94 1453.27 Q1215.02 1457.86 1215.02 1466.61 Q1215.02 1475.33 1211.94 1479.94 Q1208.89 1484.52 1203.08 1484.52 Q1197.27 1484.52 1194.19 1479.94 Q1191.13 1475.33 1191.13 1466.61 Q1191.13 1457.86 1194.19 1453.27 Q1197.27 1448.67 1203.08 1448.67 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M1669.26 1479.92 L1676.9 1479.92 L1676.9 1453.55 L1668.59 1455.22 L1668.59 1450.96 L1676.85 1449.29 L1681.53 1449.29 L1681.53 1479.92 L1689.17 1479.92 L1689.17 1483.85 L1669.26 1483.85 L1669.26 1479.92 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M1694.28 1449.29 L1712.64 1449.29 L1712.64 1453.23 L1698.56 1453.23 L1698.56 1461.7 Q1699.58 1461.35 1700.6 1461.19 Q1701.62 1461 1702.64 1461 Q1708.42 1461 1711.8 1464.18 Q1715.18 1467.35 1715.18 1472.76 Q1715.18 1478.34 1711.71 1481.44 Q1708.24 1484.52 1701.92 1484.52 Q1699.74 1484.52 1697.48 1484.15 Q1695.23 1483.78 1692.82 1483.04 L1692.82 1478.34 Q1694.91 1479.48 1697.13 1480.03 Q1699.35 1480.59 1701.83 1480.59 Q1705.83 1480.59 1708.17 1478.48 Q1710.51 1476.38 1710.51 1472.76 Q1710.51 1469.15 1708.17 1467.05 Q1705.83 1464.94 1701.83 1464.94 Q1699.95 1464.94 1698.08 1465.36 Q1696.23 1465.77 1694.28 1466.65 L1694.28 1449.29 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M2173.69 1479.92 L2190.01 1479.92 L2190.01 1483.85 L2168.07 1483.85 L2168.07 1479.92 Q2170.73 1477.16 2175.31 1472.53 Q2179.92 1467.88 2181.1 1466.54 Q2183.34 1464.01 2184.22 1462.28 Q2185.13 1460.52 2185.13 1458.83 Q2185.13 1456.07 2183.18 1454.34 Q2181.26 1452.6 2178.16 1452.6 Q2175.96 1452.6 2173.51 1453.37 Q2171.08 1454.13 2168.3 1455.68 L2168.3 1450.96 Q2171.12 1449.82 2173.57 1449.25 Q2176.03 1448.67 2178.07 1448.67 Q2183.44 1448.67 2186.63 1451.35 Q2189.82 1454.04 2189.82 1458.53 Q2189.82 1460.66 2189.01 1462.58 Q2188.23 1464.48 2186.12 1467.07 Q2185.54 1467.74 2182.44 1470.96 Q2179.34 1474.15 2173.69 1479.92 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M2205.08 1452.37 Q2201.47 1452.37 2199.64 1455.94 Q2197.83 1459.48 2197.83 1466.61 Q2197.83 1473.71 2199.64 1477.28 Q2201.47 1480.82 2205.08 1480.82 Q2208.71 1480.82 2210.52 1477.28 Q2212.35 1473.71 2212.35 1466.61 Q2212.35 1459.48 2210.52 1455.94 Q2208.71 1452.37 2205.08 1452.37 M2205.08 1448.67 Q2210.89 1448.67 2213.95 1453.27 Q2217.02 1457.86 2217.02 1466.61 Q2217.02 1475.33 2213.95 1479.94 Q2210.89 1484.52 2205.08 1484.52 Q2199.27 1484.52 2196.19 1479.94 Q2193.14 1475.33 2193.14 1466.61 Q2193.14 1457.86 2196.19 1453.27 Q2199.27 1448.67 2205.08 1448.67 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M1226.92 1520.52 L1233.83 1520.52 L1247 1540.07 L1260.09 1520.52 L1266.99 1520.52 L1250.19 1545.41 L1250.19 1568.04 L1243.73 1568.04 L1243.73 1545.41 L1226.92 1520.52 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M1294.97 1548.76 L1294.97 1551.62 L1268.04 1551.62 Q1268.42 1557.67 1271.67 1560.85 Q1274.95 1564 1280.77 1564 Q1284.15 1564 1287.3 1563.17 Q1290.48 1562.35 1293.6 1560.69 L1293.6 1566.23 Q1290.45 1567.57 1287.14 1568.27 Q1283.83 1568.97 1280.42 1568.97 Q1271.89 1568.97 1266.9 1564 Q1261.93 1559.04 1261.93 1550.57 Q1261.93 1541.82 1266.64 1536.69 Q1271.38 1531.54 1279.41 1531.54 Q1286.6 1531.54 1290.77 1536.18 Q1294.97 1540.8 1294.97 1548.76 M1289.11 1547.04 Q1289.05 1542.23 1286.41 1539.37 Q1283.8 1536.5 1279.47 1536.5 Q1274.57 1536.5 1271.61 1539.27 Q1268.68 1542.04 1268.23 1547.07 L1289.11 1547.04 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M1317.31 1550.12 Q1310.22 1550.12 1307.48 1551.75 Q1304.74 1553.37 1304.74 1557.29 Q1304.74 1560.4 1306.78 1562.25 Q1308.85 1564.07 1312.38 1564.07 Q1317.25 1564.07 1320.18 1560.63 Q1323.14 1557.16 1323.14 1551.43 L1323.14 1550.12 L1317.31 1550.12 M1328.99 1547.71 L1328.99 1568.04 L1323.14 1568.04 L1323.14 1562.63 Q1321.13 1565.88 1318.14 1567.44 Q1315.15 1568.97 1310.82 1568.97 Q1305.35 1568.97 1302.1 1565.91 Q1298.88 1562.82 1298.88 1557.67 Q1298.88 1551.65 1302.9 1548.6 Q1306.94 1545.54 1314.93 1545.54 L1323.14 1545.54 L1323.14 1544.97 Q1323.14 1540.93 1320.46 1538.73 Q1317.82 1536.5 1313.02 1536.5 Q1309.96 1536.5 1307.06 1537.23 Q1304.17 1537.97 1301.49 1539.43 L1301.49 1534.02 Q1304.71 1532.78 1307.73 1532.17 Q1310.76 1531.54 1313.62 1531.54 Q1321.36 1531.54 1325.18 1535.55 Q1328.99 1539.56 1328.99 1547.71 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M1355.79 1537.87 Q1354.81 1537.3 1353.63 1537.04 Q1352.48 1536.76 1351.08 1536.76 Q1346.12 1536.76 1343.44 1540 Q1340.8 1543.22 1340.8 1549.27 L1340.8 1568.04 L1334.91 1568.04 L1334.91 1532.4 L1340.8 1532.4 L1340.8 1537.93 Q1342.65 1534.69 1345.61 1533.13 Q1348.57 1531.54 1352.8 1531.54 Q1353.41 1531.54 1354.14 1531.63 Q1354.87 1531.7 1355.76 1531.85 L1355.79 1537.87 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip262)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  229.959,1384.24 2352.76,1384.24 
  "/>
<polyline clip-path="url(#clip262)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  229.959,1123.24 2352.76,1123.24 
  "/>
<polyline clip-path="url(#clip262)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  229.959,862.238 2352.76,862.238 
  "/>
<polyline clip-path="url(#clip262)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  229.959,601.237 2352.76,601.237 
  "/>
<polyline clip-path="url(#clip262)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  229.959,340.237 2352.76,340.237 
  "/>
<polyline clip-path="url(#clip262)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  229.959,79.2366 2352.76,79.2366 
  "/>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.959,1423.18 229.959,47.2441 
  "/>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.959,1384.24 255.432,1384.24 
  "/>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.959,1123.24 255.432,1123.24 
  "/>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.959,862.238 255.432,862.238 
  "/>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.959,601.237 255.432,601.237 
  "/>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.959,340.237 255.432,340.237 
  "/>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.959,79.2366 255.432,79.2366 
  "/>
<path clip-path="url(#clip260)" d="M 0 0 M130.348 1371.03 L118.543 1389.48 L130.348 1389.48 L130.348 1371.03 M129.121 1366.96 L135.001 1366.96 L135.001 1389.48 L139.931 1389.48 L139.931 1393.37 L135.001 1393.37 L135.001 1401.52 L130.348 1401.52 L130.348 1393.37 L114.746 1393.37 L114.746 1388.86 L129.121 1366.96 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M155.001 1370.04 Q151.39 1370.04 149.561 1373.6 Q147.755 1377.14 147.755 1384.27 Q147.755 1391.38 149.561 1394.94 Q151.39 1398.49 155.001 1398.49 Q158.635 1398.49 160.44 1394.94 Q162.269 1391.38 162.269 1384.27 Q162.269 1377.14 160.44 1373.6 Q158.635 1370.04 155.001 1370.04 M155.001 1366.33 Q160.811 1366.33 163.866 1370.94 Q166.945 1375.52 166.945 1384.27 Q166.945 1393 163.866 1397.61 Q160.811 1402.19 155.001 1402.19 Q149.191 1402.19 146.112 1397.61 Q143.056 1393 143.056 1384.27 Q143.056 1375.52 146.112 1370.94 Q149.191 1366.33 155.001 1366.33 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M182.014 1370.04 Q178.403 1370.04 176.575 1373.6 Q174.769 1377.14 174.769 1384.27 Q174.769 1391.38 176.575 1394.94 Q178.403 1398.49 182.014 1398.49 Q185.649 1398.49 187.454 1394.94 Q189.283 1391.38 189.283 1384.27 Q189.283 1377.14 187.454 1373.6 Q185.649 1370.04 182.014 1370.04 M182.014 1366.33 Q187.825 1366.33 190.88 1370.94 Q193.959 1375.52 193.959 1384.27 Q193.959 1393 190.88 1397.61 Q187.825 1402.19 182.014 1402.19 Q176.204 1402.19 173.126 1397.61 Q170.07 1393 170.07 1384.27 Q170.07 1375.52 173.126 1370.94 Q176.204 1366.33 182.014 1366.33 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M131.575 1110.03 L119.769 1128.48 L131.575 1128.48 L131.575 1110.03 M130.348 1105.96 L136.228 1105.96 L136.228 1128.48 L141.158 1128.48 L141.158 1132.37 L136.228 1132.37 L136.228 1140.52 L131.575 1140.52 L131.575 1132.37 L115.973 1132.37 L115.973 1127.86 L130.348 1105.96 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M147.038 1136.58 L154.677 1136.58 L154.677 1110.22 L146.366 1111.88 L146.366 1107.62 L154.63 1105.96 L159.306 1105.96 L159.306 1136.58 L166.945 1136.58 L166.945 1140.52 L147.038 1140.52 L147.038 1136.58 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M182.014 1109.04 Q178.403 1109.04 176.575 1112.6 Q174.769 1116.14 174.769 1123.27 Q174.769 1130.38 176.575 1133.94 Q178.403 1137.49 182.014 1137.49 Q185.649 1137.49 187.454 1133.94 Q189.283 1130.38 189.283 1123.27 Q189.283 1116.14 187.454 1112.6 Q185.649 1109.04 182.014 1109.04 M182.014 1105.33 Q187.825 1105.33 190.88 1109.94 Q193.959 1114.52 193.959 1123.27 Q193.959 1132 190.88 1136.61 Q187.825 1141.19 182.014 1141.19 Q176.204 1141.19 173.126 1136.61 Q170.07 1132 170.07 1123.27 Q170.07 1114.52 173.126 1109.94 Q176.204 1105.33 182.014 1105.33 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M131.945 849.032 L120.14 867.481 L131.945 867.481 L131.945 849.032 M130.718 844.958 L136.598 844.958 L136.598 867.481 L141.529 867.481 L141.529 871.37 L136.598 871.37 L136.598 879.518 L131.945 879.518 L131.945 871.37 L116.343 871.37 L116.343 866.856 L130.718 844.958 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M150.626 875.582 L166.945 875.582 L166.945 879.518 L145.001 879.518 L145.001 875.582 Q147.663 872.828 152.246 868.198 Q156.853 863.545 158.033 862.203 Q160.278 859.68 161.158 857.944 Q162.061 856.184 162.061 854.495 Q162.061 851.74 160.116 850.004 Q158.195 848.268 155.093 848.268 Q152.894 848.268 150.441 849.032 Q148.01 849.796 145.232 851.346 L145.232 846.624 Q148.056 845.49 150.51 844.911 Q152.964 844.333 155.001 844.333 Q160.371 844.333 163.565 847.018 Q166.76 849.703 166.76 854.194 Q166.76 856.323 165.95 858.245 Q165.163 860.143 163.056 862.735 Q162.477 863.407 159.376 866.624 Q156.274 869.819 150.626 875.582 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M182.014 848.036 Q178.403 848.036 176.575 851.601 Q174.769 855.143 174.769 862.272 Q174.769 869.379 176.575 872.944 Q178.403 876.485 182.014 876.485 Q185.649 876.485 187.454 872.944 Q189.283 869.379 189.283 862.272 Q189.283 855.143 187.454 851.601 Q185.649 848.036 182.014 848.036 M182.014 844.333 Q187.825 844.333 190.88 848.939 Q193.959 853.522 193.959 862.272 Q193.959 870.999 190.88 875.606 Q187.825 880.189 182.014 880.189 Q176.204 880.189 173.126 875.606 Q170.07 870.999 170.07 862.272 Q170.07 853.522 173.126 848.939 Q176.204 844.333 182.014 844.333 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M130.996 588.031 L119.191 606.48 L130.996 606.48 L130.996 588.031 M129.769 583.957 L135.649 583.957 L135.649 606.48 L140.579 606.48 L140.579 610.369 L135.649 610.369 L135.649 618.517 L130.996 618.517 L130.996 610.369 L115.394 610.369 L115.394 605.855 L129.769 583.957 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M159.815 599.883 Q163.172 600.601 165.047 602.869 Q166.945 605.138 166.945 608.471 Q166.945 613.587 163.427 616.388 Q159.908 619.189 153.427 619.189 Q151.251 619.189 148.936 618.749 Q146.644 618.332 144.191 617.476 L144.191 612.962 Q146.135 614.096 148.45 614.675 Q150.765 615.253 153.288 615.253 Q157.686 615.253 159.978 613.517 Q162.292 611.781 162.292 608.471 Q162.292 605.416 160.14 603.703 Q158.01 601.966 154.19 601.966 L150.163 601.966 L150.163 598.124 L154.376 598.124 Q157.825 598.124 159.653 596.758 Q161.482 595.369 161.482 592.777 Q161.482 590.115 159.584 588.703 Q157.709 587.267 154.19 587.267 Q152.269 587.267 150.07 587.684 Q147.871 588.101 145.232 588.98 L145.232 584.814 Q147.894 584.073 150.209 583.703 Q152.547 583.332 154.607 583.332 Q159.931 583.332 163.033 585.763 Q166.135 588.17 166.135 592.291 Q166.135 595.161 164.491 597.152 Q162.848 599.119 159.815 599.883 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M182.014 587.036 Q178.403 587.036 176.575 590.601 Q174.769 594.142 174.769 601.272 Q174.769 608.378 176.575 611.943 Q178.403 615.485 182.014 615.485 Q185.649 615.485 187.454 611.943 Q189.283 608.378 189.283 601.272 Q189.283 594.142 187.454 590.601 Q185.649 587.036 182.014 587.036 M182.014 583.332 Q187.825 583.332 190.88 587.939 Q193.959 592.522 193.959 601.272 Q193.959 609.999 190.88 614.605 Q187.825 619.189 182.014 619.189 Q176.204 619.189 173.126 614.605 Q170.07 609.999 170.07 601.272 Q170.07 592.522 173.126 587.939 Q176.204 583.332 182.014 583.332 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M129.862 327.031 L118.056 345.48 L129.862 345.48 L129.862 327.031 M128.635 322.957 L134.515 322.957 L134.515 345.48 L139.445 345.48 L139.445 349.369 L134.515 349.369 L134.515 357.517 L129.862 357.517 L129.862 349.369 L114.26 349.369 L114.26 344.855 L128.635 322.957 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M157.362 327.031 L145.556 345.48 L157.362 345.48 L157.362 327.031 M156.135 322.957 L162.015 322.957 L162.015 345.48 L166.945 345.48 L166.945 349.369 L162.015 349.369 L162.015 357.517 L157.362 357.517 L157.362 349.369 L141.76 349.369 L141.76 344.855 L156.135 322.957 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M182.014 326.036 Q178.403 326.036 176.575 329.6 Q174.769 333.142 174.769 340.272 Q174.769 347.378 176.575 350.943 Q178.403 354.485 182.014 354.485 Q185.649 354.485 187.454 350.943 Q189.283 347.378 189.283 340.272 Q189.283 333.142 187.454 329.6 Q185.649 326.036 182.014 326.036 M182.014 322.332 Q187.825 322.332 190.88 326.938 Q193.959 331.522 193.959 340.272 Q193.959 348.998 190.88 353.605 Q187.825 358.188 182.014 358.188 Q176.204 358.188 173.126 353.605 Q170.07 348.998 170.07 340.272 Q170.07 331.522 173.126 326.938 Q176.204 322.332 182.014 322.332 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M131.343 66.0307 L119.538 84.4797 L131.343 84.4797 L131.343 66.0307 M130.117 61.9566 L135.996 61.9566 L135.996 84.4797 L140.927 84.4797 L140.927 88.3685 L135.996 88.3685 L135.996 96.5166 L131.343 96.5166 L131.343 88.3685 L115.742 88.3685 L115.742 83.8547 L130.117 61.9566 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M146.042 61.9566 L164.399 61.9566 L164.399 65.8918 L150.325 65.8918 L150.325 74.364 Q151.343 74.0168 152.362 73.8547 Q153.38 73.6695 154.399 73.6695 Q160.186 73.6695 163.565 76.8408 Q166.945 80.0121 166.945 85.4287 Q166.945 91.0074 163.473 94.1093 Q160.001 97.1879 153.681 97.1879 Q151.505 97.1879 149.237 96.8176 Q146.991 96.4472 144.584 95.7065 L144.584 91.0074 Q146.667 92.1417 148.89 92.6972 Q151.112 93.2528 153.589 93.2528 Q157.593 93.2528 159.931 91.1463 Q162.269 89.0398 162.269 85.4287 Q162.269 81.8177 159.931 79.7112 Q157.593 77.6047 153.589 77.6047 Q151.714 77.6047 149.839 78.0214 Q147.987 78.438 146.042 79.3177 L146.042 61.9566 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M182.014 65.0353 Q178.403 65.0353 176.575 68.6001 Q174.769 72.1418 174.769 79.2714 Q174.769 86.3778 176.575 89.9426 Q178.403 93.4843 182.014 93.4843 Q185.649 93.4843 187.454 89.9426 Q189.283 86.3778 189.283 79.2714 Q189.283 72.1418 187.454 68.6001 Q185.649 65.0353 182.014 65.0353 M182.014 61.3317 Q187.825 61.3317 190.88 65.9381 Q193.959 70.5214 193.959 79.2714 Q193.959 87.9982 190.88 92.6046 Q187.825 97.1879 182.014 97.1879 Q176.204 97.1879 173.126 92.6046 Q170.07 87.9982 170.07 79.2714 Q170.07 70.5214 173.126 65.9381 Q176.204 61.3317 182.014 61.3317 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M18.0438 786.185 L24.314 786.185 Q22.5634 789.846 21.704 793.092 Q20.8447 796.339 20.8447 799.362 Q20.8447 804.614 22.8817 807.479 Q24.9187 810.311 28.6745 810.311 Q31.8255 810.311 33.4488 808.434 Q35.0402 806.524 36.0269 801.24 L36.8226 797.357 Q38.1912 790.164 41.6605 786.758 Q45.098 783.321 50.8908 783.321 Q57.7976 783.321 61.3624 787.968 Q64.9272 792.583 64.9272 801.527 Q64.9272 804.901 64.1633 808.72 Q63.3994 812.508 61.9035 816.582 L55.2831 816.582 Q57.4793 812.667 58.5933 808.911 Q59.7073 805.155 59.7073 801.527 Q59.7073 796.02 57.543 793.028 Q55.3786 790.037 51.3682 790.037 Q47.8671 790.037 45.8937 792.201 Q43.9204 794.333 42.9337 799.235 L42.1698 803.15 Q40.7375 810.343 37.682 813.558 Q34.6264 816.773 29.1837 816.773 Q22.8817 816.773 19.2532 812.348 Q15.6248 807.892 15.6248 800.094 Q15.6248 796.752 16.2295 793.283 Q16.8343 789.814 18.0438 786.185 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M18.2347 771.385 L28.3562 771.385 L28.3562 759.322 L32.9077 759.322 L32.9077 771.385 L52.2594 771.385 Q56.6199 771.385 57.8613 770.207 Q59.1026 768.998 59.1026 765.338 L59.1026 759.322 L64.0042 759.322 L64.0042 765.338 Q64.0042 772.117 61.4897 774.695 Q58.9434 777.273 52.2594 777.273 L32.9077 777.273 L32.9077 781.57 L28.3562 781.57 L28.3562 777.273 L18.2347 777.273 L18.2347 771.385 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M32.4621 739.366 Q32.4621 744.076 36.1542 746.813 Q39.8145 749.551 46.212 749.551 Q52.6095 749.551 56.3017 746.845 Q59.9619 744.108 59.9619 739.366 Q59.9619 734.687 56.2698 731.95 Q52.5777 729.212 46.212 729.212 Q39.8781 729.212 36.186 731.95 Q32.4621 734.687 32.4621 739.366 M27.4968 739.366 Q27.4968 731.727 32.4621 727.366 Q37.4273 723.006 46.212 723.006 Q54.9649 723.006 59.9619 727.366 Q64.9272 731.727 64.9272 739.366 Q64.9272 747.036 59.9619 751.397 Q54.9649 755.725 46.212 755.725 Q37.4273 755.725 32.4621 751.397 Q27.4968 747.036 27.4968 739.366 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M29.7248 691.209 L35.1993 691.209 Q33.8307 693.692 33.1623 696.206 Q32.4621 698.689 32.4621 701.235 Q32.4621 706.932 36.0905 710.083 Q39.6872 713.234 46.212 713.234 Q52.7369 713.234 56.3653 710.083 Q59.9619 706.932 59.9619 701.235 Q59.9619 698.689 59.2935 696.206 Q58.5933 693.692 57.2247 691.209 L62.6355 691.209 Q63.7814 693.66 64.3543 696.302 Q64.9272 698.912 64.9272 701.872 Q64.9272 709.924 59.8664 714.667 Q54.8057 719.409 46.212 719.409 Q37.491 719.409 32.4939 714.635 Q27.4968 709.829 27.4968 701.49 Q27.4968 698.784 28.0697 696.206 Q28.6108 693.628 29.7248 691.209 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip260)" d="M 0 0 M14.479 685.289 L14.479 679.401 L43.7294 679.401 L28.3562 661.927 L28.3562 654.447 L45.0344 673.353 L64.0042 653.651 L64.0042 661.29 L46.5939 679.401 L64.0042 679.401 L64.0042 685.289 L14.479 685.289 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip262)" style="stroke:#009af9; stroke-width:4; stroke-opacity:1; fill:none" points="
  290.038,1384.24 390.17,297.836 490.302,351.453 590.434,191.405 690.566,333.604 790.698,279.921 890.83,86.1857 990.962,156.524 1091.09,476.249 1191.23,368.91 
  1291.36,316.09 1391.49,315.481 1491.62,227.807 1591.75,351.14 1691.89,156.559 1792.02,226.976 1892.15,209.435 1992.28,226.896 2092.41,245.157 2192.54,262.285 
  2292.68,548.616 
  "/>
</svg>
<p>The small complexity addition yields us a generous speed up of around 4.5x.</p><pre><code class="language-julia">@btime Agents.step!(model, agent_diffeq_step!, model_diffeq_step!, 20) setup =
    (model = initialise_diffeq())</code></pre><pre class="documenter-example-output">  4.454 ms (124966 allocations: 3.65 MiB)</pre><p>Digging into the results a little more, we can see that the <code>DifferentialEquations</code> solver did not need to solve the logistic equation at every agent step to achieve a stable solution for us:</p><pre><code class="language-julia">length(modeldeq.i.sol.t)</code></pre><pre class="documenter-example-output">2200</pre><pre><code class="language-julia">365 * 20 &gt; length(modeldeq.i.sol.t)</code></pre><pre class="documenter-example-output">true</pre><p>With other initial conditions, there&#39;s the possibility that this may not be the case. When this occurs, these additional samples provide mathematical guarantees that the results are accurate (to a given tolerance), which is a safeguard not possible for our Euler example.</p><p>Compare our two results directly, both start with the same random seed and evolve in precisely the same manner:</p><pre><code class="language-julia">plot(results.stock, label = &quot;Euler&quot;, ylabel = &quot;Stock&quot;, xlabel = &quot;Year&quot;)
plot!(resultsdeq.stock, label = &quot;TSit5&quot;)</code></pre><?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600">
<defs>
  <clipPath id="clip320">
    <rect x="0" y="0" width="2400" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip320)" d="
M0 1600 L2400 1600 L2400 0 L0 0  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip321">
    <rect x="480" y="0" width="1681" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip320)" d="
M229.959 1423.18 L2352.76 1423.18 L2352.76 47.2441 L229.959 47.2441  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip322">
    <rect x="229" y="47" width="2124" height="1377"/>
  </clipPath>
</defs>
<polyline clip-path="url(#clip322)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  690.566,1423.18 690.566,47.2441 
  "/>
<polyline clip-path="url(#clip322)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1191.23,1423.18 1191.23,47.2441 
  "/>
<polyline clip-path="url(#clip322)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1691.89,1423.18 1691.89,47.2441 
  "/>
<polyline clip-path="url(#clip322)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  2192.54,1423.18 2192.54,47.2441 
  "/>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.959,1423.18 2352.76,1423.18 
  "/>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  690.566,1423.18 690.566,1406.67 
  "/>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  1191.23,1423.18 1191.23,1406.67 
  "/>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  1691.89,1423.18 1691.89,1406.67 
  "/>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  2192.54,1423.18 2192.54,1406.67 
  "/>
<path clip-path="url(#clip320)" d="M 0 0 M680.844 1449.29 L699.2 1449.29 L699.2 1453.23 L685.126 1453.23 L685.126 1461.7 Q686.144 1461.35 687.163 1461.19 Q688.181 1461 689.2 1461 Q694.987 1461 698.367 1464.18 Q701.746 1467.35 701.746 1472.76 Q701.746 1478.34 698.274 1481.44 Q694.802 1484.52 688.482 1484.52 Q686.306 1484.52 684.038 1484.15 Q681.793 1483.78 679.385 1483.04 L679.385 1478.34 Q681.469 1479.48 683.691 1480.03 Q685.913 1480.59 688.39 1480.59 Q692.394 1480.59 694.732 1478.48 Q697.07 1476.38 697.07 1472.76 Q697.07 1469.15 694.732 1467.05 Q692.394 1464.94 688.39 1464.94 Q686.515 1464.94 684.64 1465.36 Q682.788 1465.77 680.844 1466.65 L680.844 1449.29 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M1168.1 1479.92 L1175.74 1479.92 L1175.74 1453.55 L1167.43 1455.22 L1167.43 1450.96 L1175.69 1449.29 L1180.37 1449.29 L1180.37 1479.92 L1188.01 1479.92 L1188.01 1483.85 L1168.1 1483.85 L1168.1 1479.92 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M1203.08 1452.37 Q1199.47 1452.37 1197.64 1455.94 Q1195.83 1459.48 1195.83 1466.61 Q1195.83 1473.71 1197.64 1477.28 Q1199.47 1480.82 1203.08 1480.82 Q1206.71 1480.82 1208.52 1477.28 Q1210.35 1473.71 1210.35 1466.61 Q1210.35 1459.48 1208.52 1455.94 Q1206.71 1452.37 1203.08 1452.37 M1203.08 1448.67 Q1208.89 1448.67 1211.94 1453.27 Q1215.02 1457.86 1215.02 1466.61 Q1215.02 1475.33 1211.94 1479.94 Q1208.89 1484.52 1203.08 1484.52 Q1197.27 1484.52 1194.19 1479.94 Q1191.13 1475.33 1191.13 1466.61 Q1191.13 1457.86 1194.19 1453.27 Q1197.27 1448.67 1203.08 1448.67 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M1669.26 1479.92 L1676.9 1479.92 L1676.9 1453.55 L1668.59 1455.22 L1668.59 1450.96 L1676.85 1449.29 L1681.53 1449.29 L1681.53 1479.92 L1689.17 1479.92 L1689.17 1483.85 L1669.26 1483.85 L1669.26 1479.92 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M1694.28 1449.29 L1712.64 1449.29 L1712.64 1453.23 L1698.56 1453.23 L1698.56 1461.7 Q1699.58 1461.35 1700.6 1461.19 Q1701.62 1461 1702.64 1461 Q1708.42 1461 1711.8 1464.18 Q1715.18 1467.35 1715.18 1472.76 Q1715.18 1478.34 1711.71 1481.44 Q1708.24 1484.52 1701.92 1484.52 Q1699.74 1484.52 1697.48 1484.15 Q1695.23 1483.78 1692.82 1483.04 L1692.82 1478.34 Q1694.91 1479.48 1697.13 1480.03 Q1699.35 1480.59 1701.83 1480.59 Q1705.83 1480.59 1708.17 1478.48 Q1710.51 1476.38 1710.51 1472.76 Q1710.51 1469.15 1708.17 1467.05 Q1705.83 1464.94 1701.83 1464.94 Q1699.95 1464.94 1698.08 1465.36 Q1696.23 1465.77 1694.28 1466.65 L1694.28 1449.29 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M2173.69 1479.92 L2190.01 1479.92 L2190.01 1483.85 L2168.07 1483.85 L2168.07 1479.92 Q2170.73 1477.16 2175.31 1472.53 Q2179.92 1467.88 2181.1 1466.54 Q2183.34 1464.01 2184.22 1462.28 Q2185.13 1460.52 2185.13 1458.83 Q2185.13 1456.07 2183.18 1454.34 Q2181.26 1452.6 2178.16 1452.6 Q2175.96 1452.6 2173.51 1453.37 Q2171.08 1454.13 2168.3 1455.68 L2168.3 1450.96 Q2171.12 1449.82 2173.57 1449.25 Q2176.03 1448.67 2178.07 1448.67 Q2183.44 1448.67 2186.63 1451.35 Q2189.82 1454.04 2189.82 1458.53 Q2189.82 1460.66 2189.01 1462.58 Q2188.23 1464.48 2186.12 1467.07 Q2185.54 1467.74 2182.44 1470.96 Q2179.34 1474.15 2173.69 1479.92 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M2205.08 1452.37 Q2201.47 1452.37 2199.64 1455.94 Q2197.83 1459.48 2197.83 1466.61 Q2197.83 1473.71 2199.64 1477.28 Q2201.47 1480.82 2205.08 1480.82 Q2208.71 1480.82 2210.52 1477.28 Q2212.35 1473.71 2212.35 1466.61 Q2212.35 1459.48 2210.52 1455.94 Q2208.71 1452.37 2205.08 1452.37 M2205.08 1448.67 Q2210.89 1448.67 2213.95 1453.27 Q2217.02 1457.86 2217.02 1466.61 Q2217.02 1475.33 2213.95 1479.94 Q2210.89 1484.52 2205.08 1484.52 Q2199.27 1484.52 2196.19 1479.94 Q2193.14 1475.33 2193.14 1466.61 Q2193.14 1457.86 2196.19 1453.27 Q2199.27 1448.67 2205.08 1448.67 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M1226.92 1520.52 L1233.83 1520.52 L1247 1540.07 L1260.09 1520.52 L1266.99 1520.52 L1250.19 1545.41 L1250.19 1568.04 L1243.73 1568.04 L1243.73 1545.41 L1226.92 1520.52 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M1294.97 1548.76 L1294.97 1551.62 L1268.04 1551.62 Q1268.42 1557.67 1271.67 1560.85 Q1274.95 1564 1280.77 1564 Q1284.15 1564 1287.3 1563.17 Q1290.48 1562.35 1293.6 1560.69 L1293.6 1566.23 Q1290.45 1567.57 1287.14 1568.27 Q1283.83 1568.97 1280.42 1568.97 Q1271.89 1568.97 1266.9 1564 Q1261.93 1559.04 1261.93 1550.57 Q1261.93 1541.82 1266.64 1536.69 Q1271.38 1531.54 1279.41 1531.54 Q1286.6 1531.54 1290.77 1536.18 Q1294.97 1540.8 1294.97 1548.76 M1289.11 1547.04 Q1289.05 1542.23 1286.41 1539.37 Q1283.8 1536.5 1279.47 1536.5 Q1274.57 1536.5 1271.61 1539.27 Q1268.68 1542.04 1268.23 1547.07 L1289.11 1547.04 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M1317.31 1550.12 Q1310.22 1550.12 1307.48 1551.75 Q1304.74 1553.37 1304.74 1557.29 Q1304.74 1560.4 1306.78 1562.25 Q1308.85 1564.07 1312.38 1564.07 Q1317.25 1564.07 1320.18 1560.63 Q1323.14 1557.16 1323.14 1551.43 L1323.14 1550.12 L1317.31 1550.12 M1328.99 1547.71 L1328.99 1568.04 L1323.14 1568.04 L1323.14 1562.63 Q1321.13 1565.88 1318.14 1567.44 Q1315.15 1568.97 1310.82 1568.97 Q1305.35 1568.97 1302.1 1565.91 Q1298.88 1562.82 1298.88 1557.67 Q1298.88 1551.65 1302.9 1548.6 Q1306.94 1545.54 1314.93 1545.54 L1323.14 1545.54 L1323.14 1544.97 Q1323.14 1540.93 1320.46 1538.73 Q1317.82 1536.5 1313.02 1536.5 Q1309.96 1536.5 1307.06 1537.23 Q1304.17 1537.97 1301.49 1539.43 L1301.49 1534.02 Q1304.71 1532.78 1307.73 1532.17 Q1310.76 1531.54 1313.62 1531.54 Q1321.36 1531.54 1325.18 1535.55 Q1328.99 1539.56 1328.99 1547.71 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M1355.79 1537.87 Q1354.81 1537.3 1353.63 1537.04 Q1352.48 1536.76 1351.08 1536.76 Q1346.12 1536.76 1343.44 1540 Q1340.8 1543.22 1340.8 1549.27 L1340.8 1568.04 L1334.91 1568.04 L1334.91 1532.4 L1340.8 1532.4 L1340.8 1537.93 Q1342.65 1534.69 1345.61 1533.13 Q1348.57 1531.54 1352.8 1531.54 Q1353.41 1531.54 1354.14 1531.63 Q1354.87 1531.7 1355.76 1531.85 L1355.79 1537.87 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip322)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  229.959,1310.39 2352.76,1310.39 
  "/>
<polyline clip-path="url(#clip322)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  229.959,1064.24 2352.76,1064.24 
  "/>
<polyline clip-path="url(#clip322)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  229.959,818.088 2352.76,818.088 
  "/>
<polyline clip-path="url(#clip322)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  229.959,571.936 2352.76,571.936 
  "/>
<polyline clip-path="url(#clip322)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  229.959,325.784 2352.76,325.784 
  "/>
<polyline clip-path="url(#clip322)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  229.959,79.632 2352.76,79.632 
  "/>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.959,1423.18 229.959,47.2441 
  "/>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.959,1310.39 255.432,1310.39 
  "/>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.959,1064.24 255.432,1064.24 
  "/>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.959,818.088 255.432,818.088 
  "/>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.959,571.936 255.432,571.936 
  "/>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.959,325.784 255.432,325.784 
  "/>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.959,79.632 255.432,79.632 
  "/>
<path clip-path="url(#clip320)" d="M 0 0 M130.348 1297.19 L118.543 1315.64 L130.348 1315.64 L130.348 1297.19 M129.121 1293.11 L135.001 1293.11 L135.001 1315.64 L139.931 1315.64 L139.931 1319.52 L135.001 1319.52 L135.001 1327.67 L130.348 1327.67 L130.348 1319.52 L114.746 1319.52 L114.746 1315.01 L129.121 1293.11 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M155.001 1296.19 Q151.39 1296.19 149.561 1299.76 Q147.755 1303.3 147.755 1310.43 Q147.755 1317.53 149.561 1321.1 Q151.39 1324.64 155.001 1324.64 Q158.635 1324.64 160.44 1321.1 Q162.269 1317.53 162.269 1310.43 Q162.269 1303.3 160.44 1299.76 Q158.635 1296.19 155.001 1296.19 M155.001 1292.49 Q160.811 1292.49 163.866 1297.09 Q166.945 1301.68 166.945 1310.43 Q166.945 1319.15 163.866 1323.76 Q160.811 1328.34 155.001 1328.34 Q149.191 1328.34 146.112 1323.76 Q143.056 1319.15 143.056 1310.43 Q143.056 1301.68 146.112 1297.09 Q149.191 1292.49 155.001 1292.49 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M182.014 1296.19 Q178.403 1296.19 176.575 1299.76 Q174.769 1303.3 174.769 1310.43 Q174.769 1317.53 176.575 1321.1 Q178.403 1324.64 182.014 1324.64 Q185.649 1324.64 187.454 1321.1 Q189.283 1317.53 189.283 1310.43 Q189.283 1303.3 187.454 1299.76 Q185.649 1296.19 182.014 1296.19 M182.014 1292.49 Q187.825 1292.49 190.88 1297.09 Q193.959 1301.68 193.959 1310.43 Q193.959 1319.15 190.88 1323.76 Q187.825 1328.34 182.014 1328.34 Q176.204 1328.34 173.126 1323.76 Q170.07 1319.15 170.07 1310.43 Q170.07 1301.68 173.126 1297.09 Q176.204 1292.49 182.014 1292.49 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M131.575 1051.03 L119.769 1069.48 L131.575 1069.48 L131.575 1051.03 M130.348 1046.96 L136.228 1046.96 L136.228 1069.48 L141.158 1069.48 L141.158 1073.37 L136.228 1073.37 L136.228 1081.52 L131.575 1081.52 L131.575 1073.37 L115.973 1073.37 L115.973 1068.86 L130.348 1046.96 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M147.038 1077.59 L154.677 1077.59 L154.677 1051.22 L146.366 1052.89 L146.366 1048.63 L154.63 1046.96 L159.306 1046.96 L159.306 1077.59 L166.945 1077.59 L166.945 1081.52 L147.038 1081.52 L147.038 1077.59 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M182.014 1050.04 Q178.403 1050.04 176.575 1053.6 Q174.769 1057.15 174.769 1064.28 Q174.769 1071.38 176.575 1074.95 Q178.403 1078.49 182.014 1078.49 Q185.649 1078.49 187.454 1074.95 Q189.283 1071.38 189.283 1064.28 Q189.283 1057.15 187.454 1053.6 Q185.649 1050.04 182.014 1050.04 M182.014 1046.34 Q187.825 1046.34 190.88 1050.94 Q193.959 1055.53 193.959 1064.28 Q193.959 1073 190.88 1077.61 Q187.825 1082.19 182.014 1082.19 Q176.204 1082.19 173.126 1077.61 Q170.07 1073 170.07 1064.28 Q170.07 1055.53 173.126 1050.94 Q176.204 1046.34 182.014 1046.34 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M131.945 804.882 L120.14 823.331 L131.945 823.331 L131.945 804.882 M130.718 800.808 L136.598 800.808 L136.598 823.331 L141.529 823.331 L141.529 827.22 L136.598 827.22 L136.598 835.368 L131.945 835.368 L131.945 827.22 L116.343 827.22 L116.343 822.706 L130.718 800.808 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M150.626 831.433 L166.945 831.433 L166.945 835.368 L145.001 835.368 L145.001 831.433 Q147.663 828.679 152.246 824.049 Q156.853 819.396 158.033 818.054 Q160.278 815.531 161.158 813.794 Q162.061 812.035 162.061 810.345 Q162.061 807.591 160.116 805.855 Q158.195 804.119 155.093 804.119 Q152.894 804.119 150.441 804.882 Q148.01 805.646 145.232 807.197 L145.232 802.475 Q148.056 801.341 150.51 800.762 Q152.964 800.183 155.001 800.183 Q160.371 800.183 163.565 802.869 Q166.76 805.554 166.76 810.044 Q166.76 812.174 165.95 814.095 Q165.163 815.993 163.056 818.586 Q162.477 819.257 159.376 822.475 Q156.274 825.669 150.626 831.433 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M182.014 803.887 Q178.403 803.887 176.575 807.452 Q174.769 810.993 174.769 818.123 Q174.769 825.23 176.575 828.794 Q178.403 832.336 182.014 832.336 Q185.649 832.336 187.454 828.794 Q189.283 825.23 189.283 818.123 Q189.283 810.993 187.454 807.452 Q185.649 803.887 182.014 803.887 M182.014 800.183 Q187.825 800.183 190.88 804.79 Q193.959 809.373 193.959 818.123 Q193.959 826.85 190.88 831.456 Q187.825 836.04 182.014 836.04 Q176.204 836.04 173.126 831.456 Q170.07 826.85 170.07 818.123 Q170.07 809.373 173.126 804.79 Q176.204 800.183 182.014 800.183 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M130.996 558.73 L119.191 577.179 L130.996 577.179 L130.996 558.73 M129.769 554.656 L135.649 554.656 L135.649 577.179 L140.579 577.179 L140.579 581.068 L135.649 581.068 L135.649 589.216 L130.996 589.216 L130.996 581.068 L115.394 581.068 L115.394 576.554 L129.769 554.656 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M159.815 570.582 Q163.172 571.3 165.047 573.568 Q166.945 575.837 166.945 579.17 Q166.945 584.286 163.427 587.087 Q159.908 589.888 153.427 589.888 Q151.251 589.888 148.936 589.448 Q146.644 589.031 144.191 588.175 L144.191 583.661 Q146.135 584.795 148.45 585.374 Q150.765 585.952 153.288 585.952 Q157.686 585.952 159.978 584.216 Q162.292 582.48 162.292 579.17 Q162.292 576.114 160.14 574.401 Q158.01 572.665 154.19 572.665 L150.163 572.665 L150.163 568.823 L154.376 568.823 Q157.825 568.823 159.653 567.457 Q161.482 566.068 161.482 563.476 Q161.482 560.814 159.584 559.402 Q157.709 557.966 154.19 557.966 Q152.269 557.966 150.07 558.383 Q147.871 558.8 145.232 559.679 L145.232 555.513 Q147.894 554.772 150.209 554.402 Q152.547 554.031 154.607 554.031 Q159.931 554.031 163.033 556.462 Q166.135 558.869 166.135 562.99 Q166.135 565.86 164.491 567.851 Q162.848 569.818 159.815 570.582 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M182.014 557.735 Q178.403 557.735 176.575 561.3 Q174.769 564.841 174.769 571.971 Q174.769 579.077 176.575 582.642 Q178.403 586.184 182.014 586.184 Q185.649 586.184 187.454 582.642 Q189.283 579.077 189.283 571.971 Q189.283 564.841 187.454 561.3 Q185.649 557.735 182.014 557.735 M182.014 554.031 Q187.825 554.031 190.88 558.638 Q193.959 563.221 193.959 571.971 Q193.959 580.698 190.88 585.304 Q187.825 589.888 182.014 589.888 Q176.204 589.888 173.126 585.304 Q170.07 580.698 170.07 571.971 Q170.07 563.221 173.126 558.638 Q176.204 554.031 182.014 554.031 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M129.862 312.578 L118.056 331.027 L129.862 331.027 L129.862 312.578 M128.635 308.504 L134.515 308.504 L134.515 331.027 L139.445 331.027 L139.445 334.916 L134.515 334.916 L134.515 343.064 L129.862 343.064 L129.862 334.916 L114.26 334.916 L114.26 330.402 L128.635 308.504 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M157.362 312.578 L145.556 331.027 L157.362 331.027 L157.362 312.578 M156.135 308.504 L162.015 308.504 L162.015 331.027 L166.945 331.027 L166.945 334.916 L162.015 334.916 L162.015 343.064 L157.362 343.064 L157.362 334.916 L141.76 334.916 L141.76 330.402 L156.135 308.504 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M182.014 311.583 Q178.403 311.583 176.575 315.148 Q174.769 318.689 174.769 325.819 Q174.769 332.925 176.575 336.49 Q178.403 340.032 182.014 340.032 Q185.649 340.032 187.454 336.49 Q189.283 332.925 189.283 325.819 Q189.283 318.689 187.454 315.148 Q185.649 311.583 182.014 311.583 M182.014 307.879 Q187.825 307.879 190.88 312.486 Q193.959 317.069 193.959 325.819 Q193.959 334.546 190.88 339.152 Q187.825 343.735 182.014 343.735 Q176.204 343.735 173.126 339.152 Q170.07 334.546 170.07 325.819 Q170.07 317.069 173.126 312.486 Q176.204 307.879 182.014 307.879 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M131.343 66.426 L119.538 84.875 L131.343 84.875 L131.343 66.426 M130.117 62.352 L135.996 62.352 L135.996 84.875 L140.927 84.875 L140.927 88.7639 L135.996 88.7639 L135.996 96.912 L131.343 96.912 L131.343 88.7639 L115.742 88.7639 L115.742 84.25 L130.117 62.352 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M146.042 62.352 L164.399 62.352 L164.399 66.2871 L150.325 66.2871 L150.325 74.7593 Q151.343 74.4121 152.362 74.2501 Q153.38 74.0649 154.399 74.0649 Q160.186 74.0649 163.565 77.2362 Q166.945 80.4074 166.945 85.8241 Q166.945 91.4027 163.473 94.5046 Q160.001 97.5833 153.681 97.5833 Q151.505 97.5833 149.237 97.2129 Q146.991 96.8425 144.584 96.1018 L144.584 91.4027 Q146.667 92.537 148.89 93.0926 Q151.112 93.6481 153.589 93.6481 Q157.593 93.6481 159.931 91.5416 Q162.269 89.4352 162.269 85.8241 Q162.269 82.213 159.931 80.1065 Q157.593 78 153.589 78 Q151.714 78 149.839 78.4167 Q147.987 78.8334 146.042 79.713 L146.042 62.352 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M182.014 65.4307 Q178.403 65.4307 176.575 68.9955 Q174.769 72.5371 174.769 79.6667 Q174.769 86.7731 176.575 90.3379 Q178.403 93.8796 182.014 93.8796 Q185.649 93.8796 187.454 90.3379 Q189.283 86.7731 189.283 79.6667 Q189.283 72.5371 187.454 68.9955 Q185.649 65.4307 182.014 65.4307 M182.014 61.727 Q187.825 61.727 190.88 66.3334 Q193.959 70.9167 193.959 79.6667 Q193.959 88.3935 190.88 93 Q187.825 97.5833 182.014 97.5833 Q176.204 97.5833 173.126 93 Q170.07 88.3935 170.07 79.6667 Q170.07 70.9167 173.126 66.3334 Q176.204 61.727 182.014 61.727 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M18.0438 786.185 L24.314 786.185 Q22.5634 789.846 21.704 793.092 Q20.8447 796.339 20.8447 799.362 Q20.8447 804.614 22.8817 807.479 Q24.9187 810.311 28.6745 810.311 Q31.8255 810.311 33.4488 808.434 Q35.0402 806.524 36.0269 801.24 L36.8226 797.357 Q38.1912 790.164 41.6605 786.758 Q45.098 783.321 50.8908 783.321 Q57.7976 783.321 61.3624 787.968 Q64.9272 792.583 64.9272 801.527 Q64.9272 804.901 64.1633 808.72 Q63.3994 812.508 61.9035 816.582 L55.2831 816.582 Q57.4793 812.667 58.5933 808.911 Q59.7073 805.155 59.7073 801.527 Q59.7073 796.02 57.543 793.028 Q55.3786 790.037 51.3682 790.037 Q47.8671 790.037 45.8937 792.201 Q43.9204 794.333 42.9337 799.235 L42.1698 803.15 Q40.7375 810.343 37.682 813.558 Q34.6264 816.773 29.1837 816.773 Q22.8817 816.773 19.2532 812.348 Q15.6248 807.892 15.6248 800.094 Q15.6248 796.752 16.2295 793.283 Q16.8343 789.814 18.0438 786.185 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M18.2347 771.385 L28.3562 771.385 L28.3562 759.322 L32.9077 759.322 L32.9077 771.385 L52.2594 771.385 Q56.6199 771.385 57.8613 770.207 Q59.1026 768.998 59.1026 765.338 L59.1026 759.322 L64.0042 759.322 L64.0042 765.338 Q64.0042 772.117 61.4897 774.695 Q58.9434 777.273 52.2594 777.273 L32.9077 777.273 L32.9077 781.57 L28.3562 781.57 L28.3562 777.273 L18.2347 777.273 L18.2347 771.385 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M32.4621 739.366 Q32.4621 744.076 36.1542 746.813 Q39.8145 749.551 46.212 749.551 Q52.6095 749.551 56.3017 746.845 Q59.9619 744.108 59.9619 739.366 Q59.9619 734.687 56.2698 731.95 Q52.5777 729.212 46.212 729.212 Q39.8781 729.212 36.186 731.95 Q32.4621 734.687 32.4621 739.366 M27.4968 739.366 Q27.4968 731.727 32.4621 727.366 Q37.4273 723.006 46.212 723.006 Q54.9649 723.006 59.9619 727.366 Q64.9272 731.727 64.9272 739.366 Q64.9272 747.036 59.9619 751.397 Q54.9649 755.725 46.212 755.725 Q37.4273 755.725 32.4621 751.397 Q27.4968 747.036 27.4968 739.366 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M29.7248 691.209 L35.1993 691.209 Q33.8307 693.692 33.1623 696.206 Q32.4621 698.689 32.4621 701.235 Q32.4621 706.932 36.0905 710.083 Q39.6872 713.234 46.212 713.234 Q52.7369 713.234 56.3653 710.083 Q59.9619 706.932 59.9619 701.235 Q59.9619 698.689 59.2935 696.206 Q58.5933 693.692 57.2247 691.209 L62.6355 691.209 Q63.7814 693.66 64.3543 696.302 Q64.9272 698.912 64.9272 701.872 Q64.9272 709.924 59.8664 714.667 Q54.8057 719.409 46.212 719.409 Q37.491 719.409 32.4939 714.635 Q27.4968 709.829 27.4968 701.49 Q27.4968 698.784 28.0697 696.206 Q28.6108 693.628 29.7248 691.209 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M14.479 685.289 L14.479 679.401 L43.7294 679.401 L28.3562 661.927 L28.3562 654.447 L45.0344 673.353 L64.0042 653.651 L64.0042 661.29 L46.5939 679.401 L64.0042 679.401 L64.0042 685.289 L14.479 685.289 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip322)" style="stroke:#009af9; stroke-width:4; stroke-opacity:1; fill:none" points="
  290.038,1310.39 390.17,1039.63 490.302,1113.47 590.434,891.934 690.566,1088.86 790.698,1015.01 890.83,744.243 990.962,842.704 1091.09,1285.78 1191.23,1138.09 
  1291.36,1064.24 1391.49,1064.24 1491.62,941.164 1591.75,1113.47 1691.89,842.704 1792.02,941.164 1892.15,916.549 1992.28,941.164 2092.41,965.78 2192.54,990.395 
  2292.68,1384.24 
  "/>
<polyline clip-path="url(#clip322)" style="stroke:#e26f46; stroke-width:4; stroke-opacity:1; fill:none" points="
  290.038,1310.39 390.17,285.795 490.302,336.362 590.434,185.419 690.566,319.529 790.698,268.9 890.83,86.1857 990.962,152.522 1091.09,454.058 1191.23,352.826 
  1291.36,303.011 1391.49,302.437 1491.62,219.75 1591.75,336.067 1691.89,152.556 1792.02,218.966 1892.15,202.424 1992.28,218.891 2092.41,236.114 2192.54,252.267 
  2292.68,522.309 
  "/>
<path clip-path="url(#clip320)" d="
M1937.24 274.549 L2282 274.549 L2282 93.1086 L1937.24 93.1086  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  1937.24,274.549 2282,274.549 2282,93.1086 1937.24,93.1086 1937.24,274.549 
  "/>
<polyline clip-path="url(#clip320)" style="stroke:#009af9; stroke-width:4; stroke-opacity:1; fill:none" points="
  1960.83,153.589 2102.35,153.589 
  "/>
<path clip-path="url(#clip320)" d="M 0 0 M2125.93 136.309 L2147.79 136.309 L2147.79 140.244 L2130.61 140.244 L2130.61 150.475 L2147.07 150.475 L2147.07 154.41 L2130.61 154.41 L2130.61 166.933 L2148.2 166.933 L2148.2 170.869 L2125.93 170.869 L2125.93 136.309 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M2152.23 160.637 L2152.23 144.943 L2156.49 144.943 L2156.49 160.475 Q2156.49 164.156 2157.92 166.008 Q2159.36 167.836 2162.23 167.836 Q2165.68 167.836 2167.67 165.637 Q2169.68 163.438 2169.68 159.642 L2169.68 144.943 L2173.94 144.943 L2173.94 170.869 L2169.68 170.869 L2169.68 166.887 Q2168.13 169.248 2166.07 170.406 Q2164.04 171.54 2161.33 171.54 Q2156.86 171.54 2154.55 168.762 Q2152.23 165.984 2152.23 160.637 M2162.95 144.318 L2162.95 144.318 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M2178.41 134.85 L2182.67 134.85 L2182.67 170.869 L2178.41 170.869 L2178.41 134.85 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M2209.31 156.841 L2209.31 158.924 L2189.73 158.924 Q2190.01 163.322 2192.37 165.637 Q2194.75 167.929 2198.99 167.929 Q2201.44 167.929 2203.73 167.327 Q2206.05 166.725 2208.32 165.521 L2208.32 169.549 Q2206.03 170.521 2203.62 171.031 Q2201.21 171.54 2198.73 171.54 Q2192.53 171.54 2188.9 167.929 Q2185.29 164.318 2185.29 158.16 Q2185.29 151.795 2188.71 148.068 Q2192.16 144.318 2197.99 144.318 Q2203.23 144.318 2206.26 147.697 Q2209.31 151.054 2209.31 156.841 M2205.05 155.591 Q2205.01 152.096 2203.09 150.012 Q2201.19 147.929 2198.04 147.929 Q2194.48 147.929 2192.32 149.943 Q2190.19 151.957 2189.87 155.614 L2205.05 155.591 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M2228.8 148.924 Q2228.09 148.508 2227.23 148.322 Q2226.4 148.114 2225.38 148.114 Q2221.77 148.114 2219.82 150.475 Q2217.9 152.813 2217.9 157.211 L2217.9 170.869 L2213.62 170.869 L2213.62 144.943 L2217.9 144.943 L2217.9 148.971 Q2219.24 146.609 2221.4 145.475 Q2223.55 144.318 2226.63 144.318 Q2227.07 144.318 2227.6 144.387 Q2228.13 144.434 2228.78 144.549 L2228.8 148.924 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip320)" style="stroke:#e26f46; stroke-width:4; stroke-opacity:1; fill:none" points="
  1960.83,214.069 2102.35,214.069 
  "/>
<path clip-path="url(#clip320)" d="M 0 0 M2125.93 196.789 L2155.17 196.789 L2155.17 200.724 L2142.9 200.724 L2142.9 231.349 L2138.2 231.349 L2138.2 200.724 L2125.93 200.724 L2125.93 196.789 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M2180.54 197.923 L2180.54 202.483 Q2177.88 201.21 2175.52 200.585 Q2173.16 199.96 2170.96 199.96 Q2167.14 199.96 2165.05 201.441 Q2162.99 202.923 2162.99 205.654 Q2162.99 207.946 2164.36 209.127 Q2165.75 210.284 2169.59 211.002 L2172.42 211.58 Q2177.65 212.576 2180.12 215.099 Q2182.62 217.599 2182.62 221.812 Q2182.62 226.835 2179.24 229.427 Q2175.89 232.02 2169.38 232.02 Q2166.93 232.02 2164.15 231.464 Q2161.4 230.909 2158.43 229.821 L2158.43 225.006 Q2161.28 226.603 2164.01 227.413 Q2166.74 228.224 2169.38 228.224 Q2173.39 228.224 2175.56 226.65 Q2177.74 225.076 2177.74 222.159 Q2177.74 219.613 2176.17 218.177 Q2174.61 216.742 2171.05 216.025 L2168.2 215.469 Q2162.97 214.427 2160.63 212.205 Q2158.3 209.983 2158.3 206.025 Q2158.3 201.441 2161.51 198.802 Q2164.75 196.164 2170.42 196.164 Q2172.86 196.164 2175.38 196.603 Q2177.9 197.043 2180.54 197.923 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M2187.09 205.423 L2191.35 205.423 L2191.35 231.349 L2187.09 231.349 L2187.09 205.423 M2187.09 195.33 L2191.35 195.33 L2191.35 200.724 L2187.09 200.724 L2187.09 195.33 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M2200.03 198.062 L2200.03 205.423 L2208.8 205.423 L2208.8 208.733 L2200.03 208.733 L2200.03 222.807 Q2200.03 225.978 2200.89 226.881 Q2201.77 227.784 2204.43 227.784 L2208.8 227.784 L2208.8 231.349 L2204.43 231.349 Q2199.5 231.349 2197.62 229.52 Q2195.75 227.668 2195.75 222.807 L2195.75 208.733 L2192.62 208.733 L2192.62 205.423 L2195.75 205.423 L2195.75 198.062 L2200.03 198.062 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip320)" d="M 0 0 M2213.92 196.789 L2232.28 196.789 L2232.28 200.724 L2218.2 200.724 L2218.2 209.196 Q2219.22 208.849 2220.24 208.687 Q2221.26 208.502 2222.28 208.502 Q2228.06 208.502 2231.44 211.673 Q2234.82 214.844 2234.82 220.261 Q2234.82 225.839 2231.35 228.941 Q2227.88 232.02 2221.56 232.02 Q2219.38 232.02 2217.11 231.65 Q2214.87 231.279 2212.46 230.538 L2212.46 225.839 Q2214.55 226.974 2216.77 227.529 Q2218.99 228.085 2221.47 228.085 Q2225.47 228.085 2227.81 225.978 Q2230.15 223.872 2230.15 220.261 Q2230.15 216.65 2227.81 214.543 Q2225.47 212.437 2221.47 212.437 Q2219.59 212.437 2217.72 212.853 Q2215.86 213.27 2213.92 214.15 L2213.92 196.789 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /></svg>
<p>That&#39;s an average discrepancy of 30 fish! Optimising the step size in the Euler method can close this gap, but this is yet more analysis overhead we&#39;d prefer to avoid by using better solutions.</p><p>In addition, the ODE solver will be faster most of the time, regardless of how many steps it needs to take. If not, there are other, more effective solvers that can be used for your particular case.</p><h2 id="Coupling-Agents.jl-to-DifferentialEquations.jl"><a class="docs-heading-anchor" href="#Coupling-Agents.jl-to-DifferentialEquations.jl">Coupling Agents.jl to DifferentialEquations.jl</a><a id="Coupling-Agents.jl-to-DifferentialEquations.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Coupling-Agents.jl-to-DifferentialEquations.jl" title="Permalink"></a></h2><p>Perhaps you&#39;re more familiar to the <code>DifferentialEquations</code> <code>solve</code> interface and you&#39;re new to <code>Agents</code>?</p><p>We can also couple the two systems the other way. Let&#39;s use <a href="https://docs.sciml.ai/stable/features/callback_functions/#Using-Callbacks-1">callbacks</a> to handle the agent based aspects of our problem.</p><pre><code class="language-julia">function agent_cb_step!(agent, model)
    agent.yearly_catch = rand(Poisson(agent.competence))
end

function initialise_cb(; min_threshold = 60.0, nagents = 50)
    model = ABM(Fisher; properties = Dict(:min_threshold =&gt; min_threshold))

    for _ in 1:nagents
        add_agent!(model, floor(rand(truncated(LogNormal(), 1, 6))), 0.0)
    end
    model
end

modelcb = initialise_cb()</code></pre><pre class="documenter-example-output">AgentBasedModel with 50 agents of type Fisher
 no space
 scheduler: fastest
 properties: Dict(:min_threshold =&gt; 60.0)</pre><p>That&#39;s it for the <code>Agents</code> side of things! Now to build the ODE.</p><pre><code class="language-julia">import DiffEqCallbacks

function fish!(integrator, model)
    integrator.p[2] = integrator.u[1] &gt; model.min_threshold ?
        sum(a.yearly_catch for a in allagents(model)) : 0.0
    Agents.step!(model, agent_cb_step!, 1)
end

function fish_stock!(ds, s, p, t)
    max_population, h = p
    ds[1] = s[1] * (1 - (s[1] / max_population)) - h
end

tspan = (0.0, 20.0 * 365.0)
const initial_stock = 400.0
const max_population = 500.0

prob = OrdinaryDiffEq.ODEProblem(fish_stock!, [initial_stock], tspan, [max_population, 0.0])

# Each Dec 31st, we call fish! that adds our catch modifier to the stock, and steps the model
fish = DiffEqCallbacks.PeriodicCallback(i -&gt; fish!(i, modelcb), 364)
# Stocks are replenished again
reset = DiffEqCallbacks.PeriodicCallback(i -&gt; i.p[2] = 0.0, 365)

sol = OrdinaryDiffEq.solve(
    prob,
    OrdinaryDiffEq.Tsit5();
    callback = OrdinaryDiffEq.CallbackSet(fish, reset),
)

plot(
    sol(0:365:(365 * 20)),
    xticks = (0:(365 * 2):(365 * 20), 0:2:20),
    legend = false,
    ylabel = &quot;Stock&quot;,
    xlabel = &quot;Year&quot;,
)</code></pre><?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600">
<defs>
  <clipPath id="clip380">
    <rect x="0" y="0" width="2400" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip380)" d="
M0 1600 L2400 1600 L2400 0 L0 0  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip381">
    <rect x="480" y="0" width="1681" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip380)" d="
M229.38 1423.18 L2352.76 1423.18 L2352.76 47.2441 L229.38 47.2441  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip382">
    <rect x="229" y="47" width="2124" height="1377"/>
  </clipPath>
</defs>
<polyline clip-path="url(#clip382)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  289.476,1423.18 289.476,47.2441 
  "/>
<polyline clip-path="url(#clip382)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  489.794,1423.18 489.794,47.2441 
  "/>
<polyline clip-path="url(#clip382)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  690.113,1423.18 690.113,47.2441 
  "/>
<polyline clip-path="url(#clip382)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  890.431,1423.18 890.431,47.2441 
  "/>
<polyline clip-path="url(#clip382)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1090.75,1423.18 1090.75,47.2441 
  "/>
<polyline clip-path="url(#clip382)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1291.07,1423.18 1291.07,47.2441 
  "/>
<polyline clip-path="url(#clip382)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1491.39,1423.18 1491.39,47.2441 
  "/>
<polyline clip-path="url(#clip382)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1691.7,1423.18 1691.7,47.2441 
  "/>
<polyline clip-path="url(#clip382)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1892.02,1423.18 1892.02,47.2441 
  "/>
<polyline clip-path="url(#clip382)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  2092.34,1423.18 2092.34,47.2441 
  "/>
<polyline clip-path="url(#clip382)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  2292.66,1423.18 2292.66,47.2441 
  "/>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.38,1423.18 2352.76,1423.18 
  "/>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  289.476,1423.18 289.476,1406.67 
  "/>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  489.794,1423.18 489.794,1406.67 
  "/>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  690.113,1423.18 690.113,1406.67 
  "/>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  890.431,1423.18 890.431,1406.67 
  "/>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  1090.75,1423.18 1090.75,1406.67 
  "/>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  1291.07,1423.18 1291.07,1406.67 
  "/>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  1491.39,1423.18 1491.39,1406.67 
  "/>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  1691.7,1423.18 1691.7,1406.67 
  "/>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  1892.02,1423.18 1892.02,1406.67 
  "/>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  2092.34,1423.18 2092.34,1406.67 
  "/>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  2292.66,1423.18 2292.66,1406.67 
  "/>
<path clip-path="url(#clip380)" d="M 0 0 M289.476 1452.37 Q285.865 1452.37 284.036 1455.94 Q282.23 1459.48 282.23 1466.61 Q282.23 1473.71 284.036 1477.28 Q285.865 1480.82 289.476 1480.82 Q293.11 1480.82 294.915 1477.28 Q296.744 1473.71 296.744 1466.61 Q296.744 1459.48 294.915 1455.94 Q293.11 1452.37 289.476 1452.37 M289.476 1448.67 Q295.286 1448.67 298.341 1453.27 Q301.42 1457.86 301.42 1466.61 Q301.42 1475.33 298.341 1479.94 Q295.286 1484.52 289.476 1484.52 Q283.665 1484.52 280.587 1479.94 Q277.531 1475.33 277.531 1466.61 Q277.531 1457.86 280.587 1453.27 Q283.665 1448.67 289.476 1448.67 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M484.447 1479.92 L500.766 1479.92 L500.766 1483.85 L478.822 1483.85 L478.822 1479.92 Q481.484 1477.16 486.067 1472.53 Q490.674 1467.88 491.854 1466.54 Q494.1 1464.01 494.979 1462.28 Q495.882 1460.52 495.882 1458.83 Q495.882 1456.07 493.938 1454.34 Q492.016 1452.6 488.914 1452.6 Q486.715 1452.6 484.262 1453.37 Q481.831 1454.13 479.053 1455.68 L479.053 1450.96 Q481.877 1449.82 484.331 1449.25 Q486.785 1448.67 488.822 1448.67 Q494.192 1448.67 497.387 1451.35 Q500.581 1454.04 500.581 1458.53 Q500.581 1460.66 499.771 1462.58 Q498.984 1464.48 496.877 1467.07 Q496.299 1467.74 493.197 1470.96 Q490.095 1474.15 484.447 1479.92 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M693.122 1453.37 L681.316 1471.81 L693.122 1471.81 L693.122 1453.37 M691.895 1449.29 L697.775 1449.29 L697.775 1471.81 L702.705 1471.81 L702.705 1475.7 L697.775 1475.7 L697.775 1483.85 L693.122 1483.85 L693.122 1475.7 L677.52 1475.7 L677.52 1471.19 L691.895 1449.29 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M890.836 1464.71 Q887.688 1464.71 885.836 1466.86 Q884.007 1469.01 884.007 1472.76 Q884.007 1476.49 885.836 1478.67 Q887.688 1480.82 890.836 1480.82 Q893.984 1480.82 895.813 1478.67 Q897.665 1476.49 897.665 1472.76 Q897.665 1469.01 895.813 1466.86 Q893.984 1464.71 890.836 1464.71 M900.119 1450.06 L900.119 1454.31 Q898.359 1453.48 896.554 1453.04 Q894.771 1452.6 893.012 1452.6 Q888.382 1452.6 885.929 1455.73 Q883.498 1458.85 883.151 1465.17 Q884.517 1463.16 886.577 1462.09 Q888.637 1461 891.114 1461 Q896.322 1461 899.331 1464.18 Q902.364 1467.32 902.364 1472.76 Q902.364 1478.09 899.216 1481.31 Q896.068 1484.52 890.836 1484.52 Q884.841 1484.52 881.67 1479.94 Q878.498 1475.33 878.498 1466.61 Q878.498 1458.41 882.387 1453.55 Q886.276 1448.67 892.827 1448.67 Q894.586 1448.67 896.369 1449.01 Q898.174 1449.36 900.119 1450.06 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M1090.75 1467.44 Q1087.42 1467.44 1085.49 1469.22 Q1083.6 1471 1083.6 1474.13 Q1083.6 1477.25 1085.49 1479.04 Q1087.42 1480.82 1090.75 1480.82 Q1094.08 1480.82 1096 1479.04 Q1097.93 1477.23 1097.93 1474.13 Q1097.93 1471 1096 1469.22 Q1094.11 1467.44 1090.75 1467.44 M1086.07 1465.45 Q1083.06 1464.71 1081.37 1462.65 Q1079.71 1460.59 1079.71 1457.63 Q1079.71 1453.48 1082.65 1451.07 Q1085.61 1448.67 1090.75 1448.67 Q1095.91 1448.67 1098.85 1451.07 Q1101.79 1453.48 1101.79 1457.63 Q1101.79 1460.59 1100.1 1462.65 Q1098.43 1464.71 1095.45 1465.45 Q1098.83 1466.24 1100.7 1468.53 Q1102.6 1470.82 1102.6 1474.13 Q1102.6 1479.15 1099.52 1481.84 Q1096.47 1484.52 1090.75 1484.52 Q1085.03 1484.52 1081.95 1481.84 Q1078.9 1479.15 1078.9 1474.13 Q1078.9 1470.82 1080.8 1468.53 Q1082.69 1466.24 1086.07 1465.45 M1084.36 1458.06 Q1084.36 1460.75 1086.03 1462.25 Q1087.72 1463.76 1090.75 1463.76 Q1093.76 1463.76 1095.45 1462.25 Q1097.16 1460.75 1097.16 1458.06 Q1097.16 1455.38 1095.45 1453.88 Q1093.76 1452.37 1090.75 1452.37 Q1087.72 1452.37 1086.03 1453.88 Q1084.36 1455.38 1084.36 1458.06 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M1267.94 1479.92 L1275.58 1479.92 L1275.58 1453.55 L1267.27 1455.22 L1267.27 1450.96 L1275.54 1449.29 L1280.21 1449.29 L1280.21 1479.92 L1287.85 1479.92 L1287.85 1483.85 L1267.94 1483.85 L1267.94 1479.92 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M1302.92 1452.37 Q1299.31 1452.37 1297.48 1455.94 Q1295.67 1459.48 1295.67 1466.61 Q1295.67 1473.71 1297.48 1477.28 Q1299.31 1480.82 1302.92 1480.82 Q1306.55 1480.82 1308.36 1477.28 Q1310.19 1473.71 1310.19 1466.61 Q1310.19 1459.48 1308.36 1455.94 Q1306.55 1452.37 1302.92 1452.37 M1302.92 1448.67 Q1308.73 1448.67 1311.79 1453.27 Q1314.86 1457.86 1314.86 1466.61 Q1314.86 1475.33 1311.79 1479.94 Q1308.73 1484.52 1302.92 1484.52 Q1297.11 1484.52 1294.03 1479.94 Q1290.98 1475.33 1290.98 1466.61 Q1290.98 1457.86 1294.03 1453.27 Q1297.11 1448.67 1302.92 1448.67 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M1469.06 1479.92 L1476.7 1479.92 L1476.7 1453.55 L1468.39 1455.22 L1468.39 1450.96 L1476.65 1449.29 L1481.33 1449.29 L1481.33 1479.92 L1488.97 1479.92 L1488.97 1483.85 L1469.06 1483.85 L1469.06 1479.92 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M1498.06 1479.92 L1514.38 1479.92 L1514.38 1483.85 L1492.44 1483.85 L1492.44 1479.92 Q1495.1 1477.16 1499.69 1472.53 Q1504.29 1467.88 1505.47 1466.54 Q1507.72 1464.01 1508.6 1462.28 Q1509.5 1460.52 1509.5 1458.83 Q1509.5 1456.07 1507.56 1454.34 Q1505.63 1452.6 1502.53 1452.6 Q1500.33 1452.6 1497.88 1453.37 Q1495.45 1454.13 1492.67 1455.68 L1492.67 1450.96 Q1495.5 1449.82 1497.95 1449.25 Q1500.4 1448.67 1502.44 1448.67 Q1507.81 1448.67 1511 1451.35 Q1514.2 1454.04 1514.2 1458.53 Q1514.2 1460.66 1513.39 1462.58 Q1512.6 1464.48 1510.5 1467.07 Q1509.92 1467.74 1506.81 1470.96 Q1503.71 1474.15 1498.06 1479.92 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M1668.34 1479.92 L1675.98 1479.92 L1675.98 1453.55 L1667.67 1455.22 L1667.67 1450.96 L1675.93 1449.29 L1680.61 1449.29 L1680.61 1479.92 L1688.24 1479.92 L1688.24 1483.85 L1668.34 1483.85 L1668.34 1479.92 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M1706.16 1453.37 L1694.36 1471.81 L1706.16 1471.81 L1706.16 1453.37 M1704.93 1449.29 L1710.81 1449.29 L1710.81 1471.81 L1715.74 1471.81 L1715.74 1475.7 L1710.81 1475.7 L1710.81 1483.85 L1706.16 1483.85 L1706.16 1475.7 L1690.56 1475.7 L1690.56 1471.19 L1704.93 1449.29 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M1868.82 1479.92 L1876.46 1479.92 L1876.46 1453.55 L1868.15 1455.22 L1868.15 1450.96 L1876.41 1449.29 L1881.09 1449.29 L1881.09 1479.92 L1888.72 1479.92 L1888.72 1483.85 L1868.82 1483.85 L1868.82 1479.92 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M1904.37 1464.71 Q1901.22 1464.71 1899.37 1466.86 Q1897.54 1469.01 1897.54 1472.76 Q1897.54 1476.49 1899.37 1478.67 Q1901.22 1480.82 1904.37 1480.82 Q1907.52 1480.82 1909.35 1478.67 Q1911.2 1476.49 1911.2 1472.76 Q1911.2 1469.01 1909.35 1466.86 Q1907.52 1464.71 1904.37 1464.71 M1913.66 1450.06 L1913.66 1454.31 Q1911.9 1453.48 1910.09 1453.04 Q1908.31 1452.6 1906.55 1452.6 Q1901.92 1452.6 1899.47 1455.73 Q1897.03 1458.85 1896.69 1465.17 Q1898.05 1463.16 1900.11 1462.09 Q1902.17 1461 1904.65 1461 Q1909.86 1461 1912.87 1464.18 Q1915.9 1467.32 1915.9 1472.76 Q1915.9 1478.09 1912.75 1481.31 Q1909.6 1484.52 1904.37 1484.52 Q1898.38 1484.52 1895.21 1479.94 Q1892.03 1475.33 1892.03 1466.61 Q1892.03 1458.41 1895.92 1453.55 Q1899.81 1448.67 1906.36 1448.67 Q1908.12 1448.67 1909.91 1449.01 Q1911.71 1449.36 1913.66 1450.06 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M2069.26 1479.92 L2076.9 1479.92 L2076.9 1453.55 L2068.59 1455.22 L2068.59 1450.96 L2076.86 1449.29 L2081.53 1449.29 L2081.53 1479.92 L2089.17 1479.92 L2089.17 1483.85 L2069.26 1483.85 L2069.26 1479.92 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M2104.24 1467.44 Q2100.91 1467.44 2098.99 1469.22 Q2097.09 1471 2097.09 1474.13 Q2097.09 1477.25 2098.99 1479.04 Q2100.91 1480.82 2104.24 1480.82 Q2107.57 1480.82 2109.49 1479.04 Q2111.42 1477.23 2111.42 1474.13 Q2111.42 1471 2109.49 1469.22 Q2107.6 1467.44 2104.24 1467.44 M2099.56 1465.45 Q2096.55 1464.71 2094.87 1462.65 Q2093.2 1460.59 2093.2 1457.63 Q2093.2 1453.48 2096.14 1451.07 Q2099.1 1448.67 2104.24 1448.67 Q2109.4 1448.67 2112.34 1451.07 Q2115.28 1453.48 2115.28 1457.63 Q2115.28 1460.59 2113.59 1462.65 Q2111.93 1464.71 2108.94 1465.45 Q2112.32 1466.24 2114.19 1468.53 Q2116.09 1470.82 2116.09 1474.13 Q2116.09 1479.15 2113.01 1481.84 Q2109.96 1484.52 2104.24 1484.52 Q2098.52 1484.52 2095.44 1481.84 Q2092.39 1479.15 2092.39 1474.13 Q2092.39 1470.82 2094.29 1468.53 Q2096.18 1466.24 2099.56 1465.45 M2097.85 1458.06 Q2097.85 1460.75 2099.52 1462.25 Q2101.21 1463.76 2104.24 1463.76 Q2107.25 1463.76 2108.94 1462.25 Q2110.65 1460.75 2110.65 1458.06 Q2110.65 1455.38 2108.94 1453.88 Q2107.25 1452.37 2104.24 1452.37 Q2101.21 1452.37 2099.52 1453.88 Q2097.85 1455.38 2097.85 1458.06 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M2273.81 1479.92 L2290.13 1479.92 L2290.13 1483.85 L2268.18 1483.85 L2268.18 1479.92 Q2270.84 1477.16 2275.43 1472.53 Q2280.03 1467.88 2281.21 1466.54 Q2283.46 1464.01 2284.34 1462.28 Q2285.24 1460.52 2285.24 1458.83 Q2285.24 1456.07 2283.3 1454.34 Q2281.38 1452.6 2278.27 1452.6 Q2276.07 1452.6 2273.62 1453.37 Q2271.19 1454.13 2268.41 1455.68 L2268.41 1450.96 Q2271.24 1449.82 2273.69 1449.25 Q2276.14 1448.67 2278.18 1448.67 Q2283.55 1448.67 2286.75 1451.35 Q2289.94 1454.04 2289.94 1458.53 Q2289.94 1460.66 2289.13 1462.58 Q2288.34 1464.48 2286.24 1467.07 Q2285.66 1467.74 2282.56 1470.96 Q2279.45 1474.15 2273.81 1479.92 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M2305.2 1452.37 Q2301.58 1452.37 2299.76 1455.94 Q2297.95 1459.48 2297.95 1466.61 Q2297.95 1473.71 2299.76 1477.28 Q2301.58 1480.82 2305.2 1480.82 Q2308.83 1480.82 2310.63 1477.28 Q2312.46 1473.71 2312.46 1466.61 Q2312.46 1459.48 2310.63 1455.94 Q2308.83 1452.37 2305.2 1452.37 M2305.2 1448.67 Q2311.01 1448.67 2314.06 1453.27 Q2317.14 1457.86 2317.14 1466.61 Q2317.14 1475.33 2314.06 1479.94 Q2311.01 1484.52 2305.2 1484.52 Q2299.38 1484.52 2296.31 1479.94 Q2293.25 1475.33 2293.25 1466.61 Q2293.25 1457.86 2296.31 1453.27 Q2299.38 1448.67 2305.2 1448.67 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M1226.63 1520.52 L1233.54 1520.52 L1246.71 1540.07 L1259.8 1520.52 L1266.7 1520.52 L1249.9 1545.41 L1249.9 1568.04 L1243.44 1568.04 L1243.44 1545.41 L1226.63 1520.52 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M1294.68 1548.76 L1294.68 1551.62 L1267.75 1551.62 Q1268.14 1557.67 1271.38 1560.85 Q1274.66 1564 1280.49 1564 Q1283.86 1564 1287.01 1563.17 Q1290.19 1562.35 1293.31 1560.69 L1293.31 1566.23 Q1290.16 1567.57 1286.85 1568.27 Q1283.54 1568.97 1280.13 1568.97 Q1271.6 1568.97 1266.61 1564 Q1261.64 1559.04 1261.64 1550.57 Q1261.64 1541.82 1266.35 1536.69 Q1271.1 1531.54 1279.12 1531.54 Q1286.31 1531.54 1290.48 1536.18 Q1294.68 1540.8 1294.68 1548.76 M1288.82 1547.04 Q1288.76 1542.23 1286.12 1539.37 Q1283.51 1536.5 1279.18 1536.5 Q1274.28 1536.5 1271.32 1539.27 Q1268.39 1542.04 1267.94 1547.07 L1288.82 1547.04 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M1317.02 1550.12 Q1309.93 1550.12 1307.19 1551.75 Q1304.45 1553.37 1304.45 1557.29 Q1304.45 1560.4 1306.49 1562.25 Q1308.56 1564.07 1312.09 1564.07 Q1316.96 1564.07 1319.89 1560.63 Q1322.85 1557.16 1322.85 1551.43 L1322.85 1550.12 L1317.02 1550.12 M1328.71 1547.71 L1328.71 1568.04 L1322.85 1568.04 L1322.85 1562.63 Q1320.84 1565.88 1317.85 1567.44 Q1314.86 1568.97 1310.53 1568.97 Q1305.06 1568.97 1301.81 1565.91 Q1298.6 1562.82 1298.6 1557.67 Q1298.6 1551.65 1302.61 1548.6 Q1306.65 1545.54 1314.64 1545.54 L1322.85 1545.54 L1322.85 1544.97 Q1322.85 1540.93 1320.18 1538.73 Q1317.53 1536.5 1312.73 1536.5 Q1309.67 1536.5 1306.78 1537.23 Q1303.88 1537.97 1301.21 1539.43 L1301.21 1534.02 Q1304.42 1532.78 1307.44 1532.17 Q1310.47 1531.54 1313.33 1531.54 Q1321.07 1531.54 1324.89 1535.55 Q1328.71 1539.56 1328.71 1547.71 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M1355.5 1537.87 Q1354.52 1537.3 1353.34 1537.04 Q1352.19 1536.76 1350.79 1536.76 Q1345.83 1536.76 1343.16 1540 Q1340.51 1543.22 1340.51 1549.27 L1340.51 1568.04 L1334.63 1568.04 L1334.63 1532.4 L1340.51 1532.4 L1340.51 1537.93 Q1342.36 1534.69 1345.32 1533.13 Q1348.28 1531.54 1352.51 1531.54 Q1353.12 1531.54 1353.85 1531.63 Q1354.58 1531.7 1355.47 1531.85 L1355.5 1537.87 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip382)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  229.38,1218.7 2352.76,1218.7 
  "/>
<polyline clip-path="url(#clip382)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  229.38,975.997 2352.76,975.997 
  "/>
<polyline clip-path="url(#clip382)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  229.38,733.291 2352.76,733.291 
  "/>
<polyline clip-path="url(#clip382)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  229.38,490.584 2352.76,490.584 
  "/>
<polyline clip-path="url(#clip382)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  229.38,247.877 2352.76,247.877 
  "/>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.38,1423.18 229.38,47.2441 
  "/>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.38,1218.7 254.861,1218.7 
  "/>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.38,975.997 254.861,975.997 
  "/>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.38,733.291 254.861,733.291 
  "/>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.38,490.584 254.861,490.584 
  "/>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  229.38,247.877 254.861,247.877 
  "/>
<path clip-path="url(#clip380)" d="M 0 0 M132.061 1217.35 Q135.417 1218.07 137.292 1220.34 Q139.191 1222.6 139.191 1225.94 Q139.191 1231.05 135.672 1233.85 Q132.154 1236.66 125.672 1236.66 Q123.496 1236.66 121.181 1236.22 Q118.89 1235.8 116.436 1234.94 L116.436 1230.43 Q118.381 1231.56 120.695 1232.14 Q123.01 1232.72 125.533 1232.72 Q129.931 1232.72 132.223 1230.98 Q134.538 1229.25 134.538 1225.94 Q134.538 1222.88 132.385 1221.17 Q130.255 1219.43 126.436 1219.43 L122.408 1219.43 L122.408 1215.59 L126.621 1215.59 Q130.07 1215.59 131.899 1214.23 Q133.728 1212.84 133.728 1210.24 Q133.728 1207.58 131.83 1206.17 Q129.955 1204.73 126.436 1204.73 Q124.515 1204.73 122.316 1205.15 Q120.117 1205.57 117.478 1206.45 L117.478 1202.28 Q120.14 1201.54 122.455 1201.17 Q124.793 1200.8 126.853 1200.8 Q132.177 1200.8 135.279 1203.23 Q138.38 1205.64 138.38 1209.76 Q138.38 1212.63 136.737 1214.62 Q135.093 1216.59 132.061 1217.35 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M154.839 1216.84 Q151.691 1216.84 149.839 1218.99 Q148.01 1221.15 148.01 1224.9 Q148.01 1228.62 149.839 1230.8 Q151.691 1232.95 154.839 1232.95 Q157.987 1232.95 159.815 1230.8 Q161.667 1228.62 161.667 1224.9 Q161.667 1221.15 159.815 1218.99 Q157.987 1216.84 154.839 1216.84 M164.121 1202.19 L164.121 1206.45 Q162.362 1205.61 160.556 1205.17 Q158.774 1204.73 157.015 1204.73 Q152.385 1204.73 149.931 1207.86 Q147.501 1210.98 147.153 1217.3 Q148.519 1215.29 150.579 1214.23 Q152.64 1213.14 155.116 1213.14 Q160.325 1213.14 163.334 1216.31 Q166.366 1219.46 166.366 1224.9 Q166.366 1230.22 163.218 1233.44 Q160.07 1236.66 154.839 1236.66 Q148.843 1236.66 145.672 1232.07 Q142.501 1227.47 142.501 1218.74 Q142.501 1210.54 146.39 1205.68 Q150.278 1200.8 156.829 1200.8 Q158.589 1200.8 160.371 1201.15 Q162.177 1201.49 164.121 1202.19 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M181.436 1204.5 Q177.825 1204.5 175.996 1208.07 Q174.19 1211.61 174.19 1218.74 Q174.19 1225.85 175.996 1229.41 Q177.825 1232.95 181.436 1232.95 Q185.07 1232.95 186.876 1229.41 Q188.704 1225.85 188.704 1218.74 Q188.704 1211.61 186.876 1208.07 Q185.07 1204.5 181.436 1204.5 M181.436 1200.8 Q187.246 1200.8 190.301 1205.41 Q193.38 1209.99 193.38 1218.74 Q193.38 1227.47 190.301 1232.07 Q187.246 1236.66 181.436 1236.66 Q175.626 1236.66 172.547 1232.07 Q169.491 1227.47 169.491 1218.74 Q169.491 1209.99 172.547 1205.41 Q175.626 1200.8 181.436 1200.8 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M132.408 974.643 Q135.765 975.361 137.64 977.629 Q139.538 979.898 139.538 983.231 Q139.538 988.347 136.019 991.148 Q132.501 993.949 126.019 993.949 Q123.843 993.949 121.529 993.509 Q119.237 993.092 116.783 992.236 L116.783 987.722 Q118.728 988.856 121.043 989.435 Q123.357 990.014 125.88 990.014 Q130.279 990.014 132.57 988.277 Q134.885 986.541 134.885 983.231 Q134.885 980.176 132.732 978.463 Q130.603 976.727 126.783 976.727 L122.755 976.727 L122.755 972.884 L126.968 972.884 Q130.417 972.884 132.246 971.518 Q134.075 970.129 134.075 967.537 Q134.075 964.875 132.177 963.463 Q130.302 962.028 126.783 962.028 Q124.862 962.028 122.663 962.444 Q120.464 962.861 117.825 963.741 L117.825 959.574 Q120.487 958.833 122.802 958.463 Q125.14 958.092 127.2 958.092 Q132.524 958.092 135.626 960.523 Q138.728 962.93 138.728 967.051 Q138.728 969.921 137.084 971.912 Q135.441 973.879 132.408 974.643 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M144.746 992.56 L144.746 988.301 Q146.505 989.134 148.311 989.574 Q150.116 990.014 151.853 990.014 Q156.482 990.014 158.913 986.912 Q161.366 983.787 161.714 977.444 Q160.371 979.435 158.311 980.5 Q156.251 981.565 153.751 981.565 Q148.566 981.565 145.533 978.44 Q142.524 975.291 142.524 969.852 Q142.524 964.528 145.672 961.31 Q148.82 958.092 154.052 958.092 Q160.047 958.092 163.195 962.699 Q166.366 967.282 166.366 976.032 Q166.366 984.203 162.477 989.088 Q158.612 993.949 152.061 993.949 Q150.302 993.949 148.496 993.601 Q146.691 993.254 144.746 992.56 M154.052 977.907 Q157.2 977.907 159.028 975.754 Q160.88 973.602 160.88 969.852 Q160.88 966.125 159.028 963.972 Q157.2 961.796 154.052 961.796 Q150.903 961.796 149.052 963.972 Q147.223 966.125 147.223 969.852 Q147.223 973.602 149.052 975.754 Q150.903 977.907 154.052 977.907 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M181.436 961.796 Q177.825 961.796 175.996 965.361 Q174.19 968.903 174.19 976.032 Q174.19 983.139 175.996 986.703 Q177.825 990.245 181.436 990.245 Q185.07 990.245 186.876 986.703 Q188.704 983.139 188.704 976.032 Q188.704 968.903 186.876 965.361 Q185.07 961.796 181.436 961.796 M181.436 958.092 Q187.246 958.092 190.301 962.699 Q193.38 967.282 193.38 976.032 Q193.38 984.759 190.301 989.365 Q187.246 993.949 181.436 993.949 Q175.626 993.949 172.547 989.365 Q169.491 984.759 169.491 976.032 Q169.491 967.282 172.547 962.699 Q175.626 958.092 181.436 958.092 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M131.367 720.085 L119.561 738.534 L131.367 738.534 L131.367 720.085 M130.14 716.011 L136.019 716.011 L136.019 738.534 L140.95 738.534 L140.95 742.423 L136.019 742.423 L136.019 750.571 L131.367 750.571 L131.367 742.423 L115.765 742.423 L115.765 737.909 L130.14 716.011 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M150.047 746.635 L166.366 746.635 L166.366 750.571 L144.422 750.571 L144.422 746.635 Q147.084 743.881 151.667 739.251 Q156.274 734.599 157.454 733.256 Q159.7 730.733 160.579 728.997 Q161.482 727.237 161.482 725.548 Q161.482 722.793 159.538 721.057 Q157.616 719.321 154.515 719.321 Q152.316 719.321 149.862 720.085 Q147.431 720.849 144.654 722.399 L144.654 717.677 Q147.478 716.543 149.931 715.964 Q152.385 715.386 154.422 715.386 Q159.792 715.386 162.987 718.071 Q166.181 720.756 166.181 725.247 Q166.181 727.376 165.371 729.298 Q164.584 731.196 162.477 733.788 Q161.899 734.46 158.797 737.677 Q155.695 740.872 150.047 746.635 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M181.436 719.089 Q177.825 719.089 175.996 722.654 Q174.19 726.196 174.19 733.325 Q174.19 740.432 175.996 743.997 Q177.825 747.538 181.436 747.538 Q185.07 747.538 186.876 743.997 Q188.704 740.432 188.704 733.325 Q188.704 726.196 186.876 722.654 Q185.07 719.089 181.436 719.089 M181.436 715.386 Q187.246 715.386 190.301 719.992 Q193.38 724.575 193.38 733.325 Q193.38 742.052 190.301 746.659 Q187.246 751.242 181.436 751.242 Q175.626 751.242 172.547 746.659 Q169.491 742.052 169.491 733.325 Q169.491 724.575 172.547 719.992 Q175.626 715.386 181.436 715.386 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M130.765 477.378 L118.959 495.827 L130.765 495.827 L130.765 477.378 M129.538 473.304 L135.417 473.304 L135.417 495.827 L140.348 495.827 L140.348 499.716 L135.417 499.716 L135.417 507.864 L130.765 507.864 L130.765 499.716 L115.163 499.716 L115.163 495.202 L129.538 473.304 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M145.464 473.304 L163.82 473.304 L163.82 477.239 L149.746 477.239 L149.746 485.711 Q150.765 485.364 151.783 485.202 Q152.802 485.017 153.82 485.017 Q159.607 485.017 162.987 488.188 Q166.366 491.359 166.366 496.776 Q166.366 502.355 162.894 505.456 Q159.422 508.535 153.103 508.535 Q150.927 508.535 148.658 508.165 Q146.413 507.794 144.005 507.054 L144.005 502.355 Q146.089 503.489 148.311 504.044 Q150.533 504.6 153.01 504.6 Q157.015 504.6 159.353 502.494 Q161.69 500.387 161.69 496.776 Q161.69 493.165 159.353 491.058 Q157.015 488.952 153.01 488.952 Q151.135 488.952 149.26 489.369 Q147.408 489.785 145.464 490.665 L145.464 473.304 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M181.436 476.383 Q177.825 476.383 175.996 479.947 Q174.19 483.489 174.19 490.619 Q174.19 497.725 175.996 501.29 Q177.825 504.831 181.436 504.831 Q185.07 504.831 186.876 501.29 Q188.704 497.725 188.704 490.619 Q188.704 483.489 186.876 479.947 Q185.07 476.383 181.436 476.383 M181.436 472.679 Q187.246 472.679 190.301 477.285 Q193.38 481.869 193.38 490.619 Q193.38 499.345 190.301 503.952 Q187.246 508.535 181.436 508.535 Q175.626 508.535 172.547 503.952 Q169.491 499.345 169.491 490.619 Q169.491 481.869 172.547 477.285 Q175.626 472.679 181.436 472.679 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M129.862 234.671 L118.056 253.12 L129.862 253.12 L129.862 234.671 M128.635 230.597 L134.515 230.597 L134.515 253.12 L139.445 253.12 L139.445 257.009 L134.515 257.009 L134.515 265.157 L129.862 265.157 L129.862 257.009 L114.26 257.009 L114.26 252.495 L128.635 230.597 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M154.515 248.745 Q151.181 248.745 149.26 250.528 Q147.362 252.31 147.362 255.435 Q147.362 258.56 149.26 260.342 Q151.181 262.125 154.515 262.125 Q157.848 262.125 159.769 260.342 Q161.69 258.537 161.69 255.435 Q161.69 252.31 159.769 250.528 Q157.871 248.745 154.515 248.745 M149.839 246.754 Q146.829 246.014 145.14 243.954 Q143.473 241.893 143.473 238.93 Q143.473 234.787 146.413 232.379 Q149.376 229.972 154.515 229.972 Q159.677 229.972 162.616 232.379 Q165.556 234.787 165.556 238.93 Q165.556 241.893 163.866 243.954 Q162.2 246.014 159.214 246.754 Q162.593 247.541 164.468 249.833 Q166.366 252.125 166.366 255.435 Q166.366 260.458 163.288 263.143 Q160.232 265.828 154.515 265.828 Q148.797 265.828 145.718 263.143 Q142.663 260.458 142.663 255.435 Q142.663 252.125 144.561 249.833 Q146.459 247.541 149.839 246.754 M148.126 239.37 Q148.126 242.055 149.792 243.56 Q151.482 245.065 154.515 245.065 Q157.524 245.065 159.214 243.56 Q160.927 242.055 160.927 239.37 Q160.927 236.685 159.214 235.18 Q157.524 233.676 154.515 233.676 Q151.482 233.676 149.792 235.18 Q148.126 236.685 148.126 239.37 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M181.436 233.676 Q177.825 233.676 175.996 237.241 Q174.19 240.782 174.19 247.912 Q174.19 255.018 175.996 258.583 Q177.825 262.125 181.436 262.125 Q185.07 262.125 186.876 258.583 Q188.704 255.018 188.704 247.912 Q188.704 240.782 186.876 237.241 Q185.07 233.676 181.436 233.676 M181.436 229.972 Q187.246 229.972 190.301 234.579 Q193.38 239.162 193.38 247.912 Q193.38 256.639 190.301 261.245 Q187.246 265.828 181.436 265.828 Q175.626 265.828 172.547 261.245 Q169.491 256.639 169.491 247.912 Q169.491 239.162 172.547 234.579 Q175.626 229.972 181.436 229.972 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M18.0438 786.185 L24.314 786.185 Q22.5634 789.846 21.704 793.092 Q20.8447 796.339 20.8447 799.362 Q20.8447 804.614 22.8817 807.479 Q24.9187 810.311 28.6745 810.311 Q31.8255 810.311 33.4488 808.434 Q35.0402 806.524 36.0269 801.24 L36.8226 797.357 Q38.1912 790.164 41.6605 786.758 Q45.098 783.321 50.8908 783.321 Q57.7976 783.321 61.3624 787.968 Q64.9272 792.583 64.9272 801.527 Q64.9272 804.901 64.1633 808.72 Q63.3994 812.508 61.9035 816.582 L55.2831 816.582 Q57.4793 812.667 58.5933 808.911 Q59.7073 805.155 59.7073 801.527 Q59.7073 796.02 57.543 793.028 Q55.3786 790.037 51.3682 790.037 Q47.8671 790.037 45.8937 792.201 Q43.9204 794.333 42.9337 799.235 L42.1698 803.15 Q40.7375 810.343 37.682 813.558 Q34.6264 816.773 29.1837 816.773 Q22.8817 816.773 19.2532 812.348 Q15.6248 807.892 15.6248 800.094 Q15.6248 796.752 16.2295 793.283 Q16.8343 789.814 18.0438 786.185 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M18.2347 771.385 L28.3562 771.385 L28.3562 759.322 L32.9077 759.322 L32.9077 771.385 L52.2594 771.385 Q56.6199 771.385 57.8613 770.207 Q59.1026 768.998 59.1026 765.338 L59.1026 759.322 L64.0042 759.322 L64.0042 765.338 Q64.0042 772.117 61.4897 774.695 Q58.9434 777.273 52.2594 777.273 L32.9077 777.273 L32.9077 781.57 L28.3562 781.57 L28.3562 777.273 L18.2347 777.273 L18.2347 771.385 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M32.4621 739.366 Q32.4621 744.076 36.1542 746.813 Q39.8145 749.551 46.212 749.551 Q52.6095 749.551 56.3017 746.845 Q59.9619 744.108 59.9619 739.366 Q59.9619 734.687 56.2698 731.95 Q52.5777 729.212 46.212 729.212 Q39.8781 729.212 36.186 731.95 Q32.4621 734.687 32.4621 739.366 M27.4968 739.366 Q27.4968 731.727 32.4621 727.366 Q37.4273 723.006 46.212 723.006 Q54.9649 723.006 59.9619 727.366 Q64.9272 731.727 64.9272 739.366 Q64.9272 747.036 59.9619 751.397 Q54.9649 755.725 46.212 755.725 Q37.4273 755.725 32.4621 751.397 Q27.4968 747.036 27.4968 739.366 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M29.7248 691.209 L35.1993 691.209 Q33.8307 693.692 33.1623 696.206 Q32.4621 698.689 32.4621 701.235 Q32.4621 706.932 36.0905 710.083 Q39.6872 713.234 46.212 713.234 Q52.7369 713.234 56.3653 710.083 Q59.9619 706.932 59.9619 701.235 Q59.9619 698.689 59.2935 696.206 Q58.5933 693.692 57.2247 691.209 L62.6355 691.209 Q63.7814 693.66 64.3543 696.302 Q64.9272 698.912 64.9272 701.872 Q64.9272 709.924 59.8664 714.667 Q54.8057 719.409 46.212 719.409 Q37.491 719.409 32.4939 714.635 Q27.4968 709.829 27.4968 701.49 Q27.4968 698.784 28.0697 696.206 Q28.6108 693.628 29.7248 691.209 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip380)" d="M 0 0 M14.479 685.289 L14.479 679.401 L43.7294 679.401 L28.3562 661.927 L28.3562 654.447 L45.0344 673.353 L64.0042 653.651 L64.0042 661.29 L46.5939 679.401 L64.0042 679.401 L64.0042 685.289 L14.479 685.289 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip382)" style="stroke:#009af9; stroke-width:4; stroke-opacity:1; fill:none" points="
  289.476,895.095 389.635,86.1857 489.794,882.893 589.953,957.864 690.113,1066.78 790.272,1070.63 890.431,1052.2 990.59,1080.35 1090.75,1088.61 1190.91,1280.25 
  1291.07,1178.88 1391.23,1234.78 1491.39,1037.21 1591.55,949.905 1691.7,1150.46 1791.86,1117.33 1892.02,964.415 1992.18,1008.17 2092.34,1134.31 2192.5,1384.24 
  2292.66,1069.38 
  "/>
</svg>
<p>The results are different here, since the construction of this version and the one above are quite different and cannot be randomly seeded in the same manner.</p><p>However, as you can see, it is for the most part just a re-arranged implementation of the integrator method - giving users flexibility in their architecture choices.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../optim/">« BlackBoxOptim.jl</a><a class="docs-footer-nextpage" href="../schoolyard/">LightGraphs.jl »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 22 February 2021 16:15">Monday 22 February 2021</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
